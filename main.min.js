var __reflect=this&&this.__reflect||function(e,i,s){e.__class__=i,s?s.push(i):s=[i],e.__types__=e.__types__?s.concat(e.__types__):s},__extends=this&&this.__extends||function(e,i){function s(){this.constructor=e}for(var t in i)i.hasOwnProperty(t)&&(e[t]=i[t]);e.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)},Menu=function(e){function i(i){var s=e.call(this)||this;s.sceneBattle=i,s.skinName="src/game/scene/menu/MenuSkin.exml";var t=ChessboardPara.Shared();return s.width=t.chessboardW,s.height=t.chessboardH,s.rect_mask.addEventListener(egret.TouchEvent.TOUCH_TAP,s.removeThis,s),s.btn_start.addEventListener(egret.TouchEvent.TOUCH_TAP,s.onclick_start,s),s.btn_rule.addEventListener(egret.TouchEvent.TOUCH_TAP,s.onclick_rule,s),s.btn_statistics.addEventListener(egret.TouchEvent.TOUCH_TAP,s.onclick_statistics,s),s}return __extends(i,e),i.prototype.onclick_start=function(){var e=new StartSettingView(this);this.addChild(e)},i.prototype.removeThis=function(){this.parent.removeChild(this)},i.prototype.onclick_rule=function(){var e=new RuleView;this.addChild(e)},i.prototype.onclick_statistics=function(){var e=new StatisticsView;this.addChild(e)},i.prototype.game_reStart=function(){this.sceneBattle.startGame(),this.parent.removeChild(this)},i}(eui.Component);__reflect(Menu.prototype,"Menu");var AssetAdapter=function(){function e(){}return e.prototype.getAsset=function(e,i,s){function t(t){i.call(s,t,e)}if(RES.hasRes(e)){var r=RES.getRes(e);r?t(r):RES.getResAsync(e,t,this)}else RES.getResByUrl(e,t,this,RES.ResourceItem.TYPE_IMAGE)},e}();__reflect(AssetAdapter.prototype,"AssetAdapter",["eui.IAssetAdapter"]);var Chess=function(e){function i(i,s){var t=e.call(this)||this;t.isSelect=!1,t.chessShape=new egret.Shape,t.chessLabel=new egret.TextField;var r=ChessboardPara.Shared(),h=r.stationW,o=r.stationH;return t.width=h,t.height=o,t.addChild(t.chessShape),t.addChild(t.chessLabel),t.cacheAsBitmap=!0,t.setChessType(i,s),t}return __extends(i,e),i.prototype.setChessType=function(e,i){this.chessType=e,this.chessGroup=i,this.chessAttr=con.getChessObjByChess(e),this.refreshChessShape(),this.refreshChessLable()},i.prototype.select=function(e){this.isSelect=e,this.refreshChessShape()},i.prototype.refreshChessShape=function(){var e=ChessboardPara.Shared(),i=e.chessW,s=e.chessH,t=this.chessShape;t.graphics.clear(),this.isSelect?(this.chessAttr.camp==con.camp.blue&&t.graphics.lineStyle(6,16711680),this.chessAttr.camp==con.camp.red&&t.graphics.lineStyle(6,255),this.chessAttr.camp==con.camp.neutral&&t.graphics.lineStyle(6,1432064)):0!==this.chessType?t.graphics.lineStyle(4,11448239):t.graphics.lineStyle(0,16777215),0===this.chessType?t.graphics.beginFill(16777215,0):t.graphics.beginFill(16511676,1),t.graphics.drawRect(0,0,i,s),t.graphics.endFill()},i.prototype.refreshChessLable=function(){var e=ChessboardPara.Shared(),i=e.chessW,s=e.chessH,t=this.chessLabel;this.chessAttr.camp==con.camp.blue&&(t.textColor=202491),this.chessAttr.camp==con.camp.red&&(t.textColor=16450307),t.text=this.chessAttr.description,t.size=28,t.bold=!0,t.width=i,t.height=s,t.fontFamily="Microsoft Yahei",t.textAlign=egret.HorizontalAlign.CENTER,t.verticalAlign=egret.VerticalAlign.MIDDLE},i.prototype.addOrRemoveClickEvent=function(e){e?(this.touchEnabled=!0,this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickChess,this)):(this.touchEnabled=!1,this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.clickChess,this))},i.prototype.clickChess=function(e){e.stopPropagation(),e.preventDefault(),this.chessGroup.player.isPlaying&&(this.isSelect?(this.chessGroup.selectChess(this.chessType,!1),this.chessGroup.player.outSelectChess(this.chessType)):(this.chessGroup.selectChess(this.chessType,!0),this.chessGroup.player.addSelectChess(this.chessType)))},i.prototype.addLightFilter=function(){var e=6,i=45,s=0,t=.7,r=16,h=16,o=.65,n=1,a=!1,p=!1,u=new egret.DropShadowFilter(e,i,s,t,r,h,o,n,a,p);this.filters=[u]},i}(egret.DisplayObjectContainer);__reflect(Chess.prototype,"Chess");var ChessboardBackground=function(e){function i(){var i=e.call(this)||this;i.roadShp=new egret.Shape,i.stationLabel=null,i.stationShp=new egret.Shape,i.xingyingLabel=null,i.xingyingShp=null,i.renderTexture=new egret.RenderTexture,i.textColor=0,i.fillXingyingColor=12369084,i.fillStationColor=12369084;var s=ChessboardPara.Shared(),t=new eui.Image;return t.width=s.chessboardW,t.height=s.chessboardH,t.top=0,t.bottom=0,t.left=0,t.right=0,t.source="bg_chessboard_png",i.addChild(t),i.addChild(i.roadShp),i.addChild(i.stationShp),i.drawChessboard(),i.cacheAsBitmap=!0,i}return __extends(i,e),i.Shared=function(){return null==i.shared&&(i.shared=new i),i.shared},i.prototype.drawChessboard=function(){this.drawWay(),this.drawAllStationAndXingying()},i.prototype.drawWay=function(){for(var e=[0,1,2,3,4,55,56,57,58,59,0,10,15,20,35,40,45,55,5,9,7,7,15,19,30,34,32,32,40,44],i=[5,26,27,28,9,50,31,32,33,54,4,14,19,24,39,44,49,59,29,25,15,19,27,27,54,50,40,44,52,52],s=[5,50,54,9,25,30,27],t=[50,54,9,5,29,34,32],r=e.length,h=0;r>h;h++)this.drawHighway(e[h],i[h]);r=s.length;for(var h=0;r>h;h++)this.drawRailway(s[h],t[h])},i.prototype.drawHighway=function(e,i){var s=ChessboardPara.Shared(),t=s.getPixelByLocX(e%5),r=s.getPixelByLocY(Math.floor(e/5)),h=s.getPixelByLocX(i%5),o=s.getPixelByLocY(Math.floor(i/5)),n=this.roadShp;n.graphics.lineStyle(2,0),n.graphics.moveTo(t,r),n.graphics.lineTo(h,o),n.graphics.endFill()},i.prototype.drawRailway=function(e,i){for(var s=ChessboardPara.Shared(),t=s.getPixelByLocX(e%5),r=s.getPixelByLocY(Math.floor(e/5)),h=s.getPixelByLocX(i%5),o=s.getPixelByLocY(Math.floor(i/5)),n=s.railwayColorSpace,a=Math.sqrt((h-t)*(h-t)+(o-r)*(o-r)),p=n*(h-t)/a,u=n*(o-r)/a,l=Math.floor(a/n),c=0,b=0,g=0,_=0,y=!0,L=0;l>L;L++){c=t+p*L,b=r+u*L,g=c+p,_=b+u,L==l-1&&(g=h,_=o);var d=this.roadShp;y?d.graphics.lineStyle(12,15386129):d.graphics.lineStyle(12,0),y=!y,d.graphics.moveTo(c,b),d.graphics.lineTo(g,_)}},i.prototype.drawAllStationAndXingying=function(){for(var e=0;60>e;e++)con.positionGraph[e].length<8?this.drawStationByPosition(e):this.drawXingyingByPosition(e)},i.prototype.drawStationByPosition=function(e){var i=con.bigCampPosition,s=ChessboardPara.Shared(),t=s.stationW,r=s.stationH,h=new eui.Group;h.width=t,h.height=r;var o=new egret.Shape;o.graphics.lineStyle(2,0),o.graphics.beginFill(this.fillStationColor,1);var n=e%5,a=Math.floor(e/5),p=s.getPixelByLocX(n),u=s.getPixelByLocY(a);o.graphics.drawRect(0,0,t,r),o.graphics.endFill();var l=new egret.TextField;i.indexOf(e)>-1?l.text="大本营":l.text="兵 站",l.size=20,l.textColor=this.textColor,l.width=t,l.height=r,l.fontFamily="Microsoft Yahei",l.textAlign=egret.HorizontalAlign.CENTER,l.verticalAlign=egret.VerticalAlign.MIDDLE,h.addChild(o),h.addChild(l),h.x=p,h.y=u,h.anchorOffsetX=t/2,h.anchorOffsetY=r/2,this.addChild(h)},i.prototype.drawXingyingByPosition=function(e){var i=ChessboardPara.Shared(),s=i.stationW,t=i.stationH,r=e%5,h=Math.floor(e/5),o=i.getPixelByLocX(r),n=i.getPixelByLocY(h),a=1.2*s,p=1.2*t,u=new eui.Group;u.width=a,u.height=p;var l=new egret.Shape;l.graphics.lineStyle(2,0),l.graphics.beginFill(this.fillXingyingColor,1),l.graphics.drawEllipse(0,0,a,p),l.graphics.endFill();var c=null;c=new egret.TextField,c.text="行 营",c.size=20,c.textColor=this.textColor,c.width=a,c.height=p,c.fontFamily="Microsoft Yahei",c.textAlign=egret.HorizontalAlign.CENTER,c.verticalAlign=egret.VerticalAlign.MIDDLE,u.addChild(l),u.addChild(c),u.x=o,u.y=n,u.anchorOffsetX=a/2,u.anchorOffsetY=p/2,this.addChild(u)},i}(egret.DisplayObjectContainer);__reflect(ChessboardBackground.prototype,"ChessboardBackground");var ChessboardPara=function(){function e(){this.init(720,1200)}return e.Shared=function(){return null==e.shared&&(e.shared=new e),e.shared},e.prototype.init=function(e,i){var s=e/10,t=i/20,r=1.3*s,h=1*t,o=(e-2*s)/4,n=3.5*t,a=e/40,p=(i-2*t-n)/10;this.chessboardW=e,this.chessboardH=i,this.leftOffset=s,this.topOffset=t,this.stationW=r,this.stationH=h,this.chessW=r,this.chessH=h,this.locSpaceX=o,this.hillSpace=n,this.railwayColorSpace=a,this.locSpaceY=p},e.prototype.getPixelByLocX=function(e){return this.locSpaceX*e+this.leftOffset},e.prototype.getPixelByLocY=function(e){return 5>=e?(10-e)*this.locSpaceY+this.topOffset+this.hillSpace:(11-e)*this.locSpaceY+this.topOffset},e.prototype.getLocByPixel=function(e,i,s){var t=0,r=0,t=Math.round((e-this.leftOffset)/this.locSpaceX);r=i>=this.chessboardH/2?10-Math.round((i-this.topOffset-this.hillSpace)/this.locSpaceY):11-Math.round((i-this.topOffset)/this.locSpaceY);var s=s||!0;if(s){var h=this.getPixelByLocX(t),o=this.getPixelByLocY(r);return Math.abs(e-h)<this.stationW/2&&Math.abs(i-o)<this.stationH/2?t+5*r:-1}return t+5*r},e}();__reflect(ChessboardPara.prototype,"ChessboardPara");var ChessGroup=function(e){function i(i,s){var t=e.call(this)||this;return t.chessOffset=6,t.loc=-1,t.chessArr=[],t.selectChessArr=[],t.chessShapeArr=[],t.panelChessShapeArr=[],t.selectPanel=null,t.player=i,t.loc=s,t.touchEnabled=!0,t.addEventListener(egret.TouchEvent.TOUCH_TAP,t.touchTap,t),t.addEventListener(egret.TouchEvent.TOUCH_BEGIN,t.touchBegin,t),t}return __extends(i,e),i.prototype.initSelectChessPanel=function(){if(!this.selectPanel){var e=ChessboardPara.Shared(),i=this.loc%5,s=Math.floor(this.loc/5),t=e.chessW,r=e.chessH,h=2.3*t,o=2.6*r;this.selectPanel=new eui.Group;var n=new egret.Shape;n.graphics.lineStyle(2,0),n.graphics.beginFill(16511676,1),n.graphics.drawRect(0,0,h,o),n.graphics.endFill();var a=new eui.Group;a.width=h,a.height=o,this.selectPanelGroup=a,this.selectPanel.addChild(n),this.selectPanel.addChild(a),3>i?this.selectPanel.x=t+10:this.selectPanel.x=-20-h,s>0?this.selectPanel.y=0:this.selectPanel.y=r-o,this.selectPanel.$setVisible(!1),this.addChild(this.selectPanel)}},i.prototype.setChessGroup=function(e){this.chessArr=e,this.selectChessArr=[],this.chessAttr=con.getChessObjByChess(this.chessArr),this.initChessGroup()},i.prototype.initChessGroup=function(){var e=ChessboardPara.Shared(),i=e.chessW,s=e.chessH;this.width=i,this.height=s,this.x=e.getPixelByLocX(this.loc%5),this.y=e.getPixelByLocY(Math.floor(this.loc/5)),this.anchorOffsetX=i/2,this.anchorOffsetY=s/2;var t=this.chessArr.length,r=(this.selectChessArr,this);this.chessShapeArr.forEach(function(e,i,s){r.removeChild(e)}),this.chessShapeArr=[],this.panelChessShapeArr=[];for(var h=0;t>h;h++){this.chessArr[h]===con.chessType.kong;var o=new Chess(this.chessArr[h],this);if(this.chessShapeArr.push(o),this.addChild(o),this.chessAttr.moveType==con.moveType.unable||this.chessAttr.camp!=o.chessAttr.camp){var n=new Chess(this.chessArr[h],this);this.panelChessShapeArr.push(n)}}this.refreshChessGroup()},i.prototype.refreshChessGroup=function(){var e=ChessboardPara.Shared(),i=this;this.chessShapeArr.forEach(function(e,s){i.isSelectedChess(e.chessType)?e.select(!0):e.select(!1),e.x=-i.chessOffset*s,e.y=-i.chessOffset*s});var s=e.stationW,t=e.stationH,r=.1*s,h=.2*t,o=0,n=0;this.panelChessShapeArr.forEach(function(e,a){i.isSelectedChess(e.chessType)?e.select(!0):e.select(!1),o=Math.floor(a/2),n=a%2,e.x=s*n+r+r*n,e.y=t*o+h+h*o})},i.prototype.touchTap=function(e){e.stopPropagation(),e.preventDefault(),this.acquireFocus(),this.selectPanelGroup!==e.target&&this.player.clickChessGroup(this)},i.prototype.touchBegin=function(e){e.preventDefault(),e.stopPropagation(),this.touchMoveStartX=e.stageX,this.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.touchMove,this)},i.prototype.touchEnd=function(e){e.preventDefault(),e.stopPropagation(),this.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.touchMove,this)},i.prototype.touchMove=function(e){e.preventDefault(),e.stopPropagation();var i=ChessboardPara.Shared();Math.abs(e.stageX-this.touchMoveStartX)>i.stationW/3&&(this.showOrHideSelectpanel(),this.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.touchMove,this))},i.prototype.showOrHideSelectpanel=function(){if(this.initSelectChessPanel(),this.selectPanel.visible)return void this.selectPanel.$setVisible(!1);if(!(this.chessArr.length<2)){this.acquireFocus();var e=!1;this.player.isPlaying&&this.chessAttr.camp==this.player.camp&&con.positionGraph[this.loc].length<8&&(e=!0);var i=this;this.selectPanelGroup.removeChildren(),this.panelChessShapeArr.forEach(function(s,t){i.selectPanelGroup.addChild(s),s.addOrRemoveClickEvent(e)}),this.selectPanel.$setVisible(!0)}},i.prototype.getMainChessType=function(){for(var e=this.chessShapeArr.length,i=null,s=null,t=0;e>t;t++)i=this.chessShapeArr[t],this.chessAttr.moveType!=con.moveType.unable&&this.chessAttr.camp==i.chessAttr.camp&&(s=this.chessArr[t]);return s},i.prototype.selectChessGroup=function(e){e?this.selectChessArr=Util.clone(this.chessArr):this.selectChessArr=[],this.refreshChessGroup()},i.prototype.setSelectChessArr=function(e){this.selectChessArr=Util.clone(e);var i=this.getMainChessType();i&&(this.isSelectedChess(i)||this.selectChessArr.push(i)),this.refreshChessGroup()},i.prototype.selectChess=function(e,i){if(i){this.isSelectedChess(e)||this.selectChessArr.push(e);var s=this.getMainChessType();s&&(this.isSelectedChess(s)||this.selectChessArr.push(s))}else{var t=this.selectChessArr.indexOf(e);t>-1&&this.selectChessArr.splice(t,1)}this.refreshChessGroup()},i.prototype.isSelectedChess=function(e){var i=!1;return this.selectChessArr&&this.selectChessArr.indexOf(e)>-1&&(i=!0),i},i.prototype.acquireFocus=function(){this.parent.setChildIndex(this,this.parent.numChildren-1)},i.prototype.hideSelecChessPanel=function(){this.initSelectChessPanel(),this.selectPanel.$setVisible(!1)},i.prototype.moveChess=function(e,i,s,t){function r(e){e.preventDefault(),e.stopPropagation();for(var s=new Date,a=s.getTime()-n.getTime(),_=L*(1-Math.cos(d*a)),G=0,v=0;p>v;v++)if(p>v+1&&(u=h.getPixelByLocX(i[v]%5),l=h.getPixelByLocY(Math.floor(i[v]/5)),c=h.getPixelByLocX(i[v+1]%5),b=h.getPixelByLocY(Math.floor(i[v+1]/5)),g=Math.sqrt((c-u)*(c-u)+(b-l)*(b-l)),G+=g,G>_)){G-=g;var C=(_-G)*(c-u)/g,f=(_-G)*(b-l)/g;Math.abs(C)<.1&&(C=0),Math.abs(f)<.1&&(f=0),o.chessShapeArr.forEach(function(e,i){o.isSelectedChess(e.chessType)&&(e.x=u+C-o.x-4*i,e.y=l+f-o.y-4*i)});break}a>=y&&(o.removeEventListener(egret.Event.ENTER_FRAME,r,o),t&&"function"==typeof t&&t(),o.stage.frameRate=30)}this.stage.frameRate=60,this.setSelectChessArr(s),this.acquireFocus();for(var h=ChessboardPara.Shared(),o=this,n=new Date,a=0,p=i.length,u=0,l=0,c=0,b=0,g=0,_=0;p>_;_++)p>_+1&&(u=h.getPixelByLocX(i[_]%5),l=h.getPixelByLocY(Math.floor(i[_]/5)),c=h.getPixelByLocX(i[_+1]%5),b=h.getPixelByLocY(Math.floor(i[_+1]/5)),g=Math.sqrt((c-u)*(c-u)+(b-l)*(b-l)),a+=g);var y=600+50*p,L=a/2,d=Math.PI/y;this.addEventListener(egret.Event.ENTER_FRAME,r,this)},i.prototype.overChess=function(e,i){this.stage.frameRate=60,this.selectChessGroup(!0),this.acquireFocus();var s=ChessboardPara.Shared(),t=s.chessW,r=this,h=(new Date,this.chessShapeArr[0]);h.select(!1),h.anchorOffsetX;var o=egret.Tween.get(h);o.to({scaleX:.1,anchorOffsetX:-t},400).call(function(){h.setChessType(e,r)}).to({scaleX:1,anchorOffsetX:0},400).call(function(){i&&"function"==typeof i&&i(),r.stage.frameRate=30})},i}(egret.DisplayObjectContainer);__reflect(ChessGroup.prototype,"ChessGroup");var ChessKillRule=function(){function e(){}return e.Shared=function(){return null==e.shared&&(e.shared=new e),e.shared},e.init=function(){this.killRule1()},e.killRule1=function(){function i(){this.type=ii.kong,this.camp=si.neutral,this.moveType=ti.unable,this.isGroup=!1,this.description="";var e=new Array;this.kills=e}function s(){this.type=ii.cover,this.camp=si.neutral,this.moveType=ti.unable,this.isGroup=!1,this.description="";var e=new Array;this.kills=e}function t(){this.type=ii.bLeader,this.camp=si.blue,this.moveType=ti.oneStep,this.isGroup=!1,this.description="司令";var e=new Array;this.kills=e,e.push([ii.rLeader,0]),e.push([ii.rJun,this.type]),e.push([ii.rShi,this.type]),e.push([ii.rLv,this.type]),e.push([ii.rTuan,this.type]),e.push([ii.rYing,this.type]),e.push([ii.rLian,this.type]),e.push([ii.rPai,this.type]),e.push([ii.rGong,this.type])}function r(){this.type=ii.bJun,this.camp=si.blue,this.moveType=ti.oneStep,this.isGroup=!1,this.description="军长";var e=new Array;this.kills=e,e.push([ii.rJun,0]),e.push([ii.rShi,this.type]),e.push([ii.rLv,this.type]),e.push([ii.rTuan,this.type]),e.push([ii.rYing,this.type]),e.push([ii.rLian,this.type]),e.push([ii.rPai,this.type]),e.push([ii.rGong,this.type])}function h(){this.type=ii.bShi,this.camp=si.blue,this.moveType=ti.oneStep,this.isGroup=!1,this.description="师长";var e=new Array;this.kills=e,e.push([ii.rShi,0]),e.push([ii.rLv,this.type]),e.push([ii.rTuan,this.type]),e.push([ii.rYing,this.type]),e.push([ii.rLian,this.type]),e.push([ii.rPai,this.type]),e.push([ii.rGong,this.type])}function o(){this.type=ii.bLv,this.camp=si.blue,this.moveType=ti.oneStep,this.isGroup=!1,this.description="旅长";var e=new Array;this.kills=e,e.push([ii.rLv,0]),e.push([ii.rTuan,this.type]),e.push([ii.rYing,this.type]),e.push([ii.rLian,this.type]),e.push([ii.rPai,this.type]),e.push([ii.rGong,this.type])}function n(){this.type=ii.bTuan,this.camp=si.blue,this.moveType=ti.oneStep,this.isGroup=!1,this.description="团长";var e=new Array;this.kills=e,e.push([ii.rTuan,0]),e.push([ii.rYing,this.type]),e.push([ii.rLian,this.type]),e.push([ii.rPai,this.type]),e.push([ii.rGong,this.type])}function a(){this.type=ii.bYing,this.camp=si.blue,this.moveType=ti.oneStep,this.isGroup=!1,this.description="营长";var e=new Array;this.kills=e,e.push([ii.rYing,0]),e.push([ii.rLian,this.type]),e.push([ii.rPai,this.type]),e.push([ii.rGong,this.type])}function p(){this.type=ii.bLian,this.camp=si.blue,this.moveType=ti.oneStep,this.isGroup=!1,this.description="连长";var e=new Array;this.kills=e,e.push([ii.rLian,0]),e.push([ii.rPai,this.type]),e.push([ii.rGong,this.type])}function u(){this.type=ii.bPai,this.camp=si.blue,this.moveType=ti.oneStep,this.isGroup=!1,this.description="排长";var e=new Array;this.kills=e,e.push([ii.rPai,0]),e.push([ii.rGong,this.type]),e.push([ii.rZha,ii.bPai_rZha]),e.push([ii.rPai_bZha,0]),e.push([ii.rPai_bZha2,0])}function l(){this.type=ii.bGong,this.camp=si.blue,this.moveType=ti.curve,this.isGroup=!1,this.description="工兵";var e=new Array;this.kills=e,e.push([ii.rGong,0]),e.push([ii.rGong_bLei,0]),e.push([ii.rGong_bLei2,0]),e.push([ii.rGong_bLei3,0]),e.push([ii.rGong_bQi,0]),e.push([ii.rGong_bQi_bLei,0]),e.push([ii.rGong_bQi_bLei2,0]),e.push([ii.rGong_bQi_bLei3,0]),e.push([ii.rLei,ii.bGong_rLei]),e.push([ii.rLei2,ii.bGong_rLei2]),e.push([ii.rLei3,ii.bGong_rLei3]),e.push([ii.rQi,ii.bGong_rQi]),e.push([ii.rQi_rLei,ii.bGong_rQi]),e.push([ii.rQi_rLei2,ii.bGong_rQi_rLei2]),e.push([ii.rQi_rLei3,ii.bGong_rQi_rLei3])}function c(){this.type=ii.bZha,this.camp=si.blue,this.moveType=ti.line,this.isGroup=!1,this.description="炸弹";var e=new Array;this.kills=e,e.push([ii.rZha,0]),e.push([ii.rLeader,0]),e.push([ii.rJun,0]),e.push([ii.rShi,0]),e.push([ii.rLv,0]),e.push([ii.rTuan,0]),e.push([ii.rYing,0]),e.push([ii.rLian,0]),e.push([ii.rGong,0]),e.push([ii.rGong_bLei,0]),e.push([ii.rGong_bLei2,0]),e.push([ii.rGong_bLei3,0]),e.push([ii.rGong_bQi,0]),e.push([ii.rGong_bQi_bLei,0]),e.push([ii.rGong_bQi_bLei2,0]),e.push([ii.rGong_bQi_bLei3,0]),e.push([ii.rLei,0]),e.push([ii.rLei2,0]),e.push([ii.rLei3,0]),e.push([ii.rQi,0]),e.push([ii.rQi_rLei,0]),e.push([ii.rQi_rLei2,0]),e.push([ii.rQi_rLei3,0]),e.push([ii.bLei,0]),e.push([ii.bLei2,0]),e.push([ii.bLei3,0]),e.push([ii.bQi,0]),e.push([ii.bQi_bLei,0]),e.push([ii.bQi_bLei2,0]),e.push([ii.bQi_bLei3,0])}function b(){this.type=ii.bLei,this.camp=si.blue,this.moveType=ti.unable,this.isGroup=!1,this.description="地雷";var e=new Array;this.kills=e}function g(){this.type=ii.bQi,this.camp=si.blue,this.moveType=ti.unable,this.isGroup=!1,this.description="军旗";var e=new Array;this.kills=e}function _(){this.type=ii.bGong_rQi,this.camp=si.blue,this.moveType=ti.curve,this.isGroup=!0;var e=new Array;this.kills=e,e.push([ii.rLeader,this.type]),e.push([ii.rJun,this.type]),e.push([ii.rShi,this.type]),e.push([ii.rLv,this.type]),e.push([ii.rTuan,this.type]),e.push([ii.rYing,this.type]),e.push([ii.rLian,this.type]),e.push([ii.rPai,this.type]),e.push([ii.rGong,0]),e.push([ii.rGong_bLei,0]),e.push([ii.rGong_bLei2,0]),e.push([ii.rGong_bLei3,0]),e.push([ii.rGong_bQi,0]),e.push([ii.rGong_bQi_bLei,0]),e.push([ii.rGong_bQi_bLei2,0]),e.push([ii.rGong_bQi_bLei3,0]),e.push([ii.rLei,ii.bGong_rQi_rLei]),e.push([ii.rLei2,ii.bGong_rQi_rLei2]),e.push([ii.rLei3,ii.bGong_rQi_rLei3])}function y(){this.type=ii.rQi_rLei,this.camp=si.red,this.moveType=ti.unable,this.isGroup=!0;var e=new Array;this.kills=e}function L(){this.type=ii.bGong_rLei,this.camp=si.blue,this.moveType=ti.curve,this.isGroup=!0;var e=new Array;this.kills=e,e.push([ii.rLeader,ii.bGong]),e.push([ii.rJun,ii.bGong]),e.push([ii.rShi,ii.bGong]),e.push([ii.rLv,ii.bGong]),e.push([ii.rTuan,ii.bGong]),e.push([ii.rYing,ii.bGong]),e.push([ii.rLian,ii.bGong]),e.push([ii.rPai,ii.bGong]),e.push([ii.bLei,ii.bGong]),e.push([ii.bQi,ii.bGong]),e.push([ii.rGong,0]),e.push([ii.rGong_bLei,0]),e.push([ii.rGong_bLei2,0]),e.push([ii.rGong_bLei3,0]),e.push([ii.rGong_bQi,0]),e.push([ii.rGong_bQi_bLei,0]),e.push([ii.rGong_bQi_bLei2,0]),e.push([ii.rGong_bQi_bLei3,0]),e.push([ii.rLei,ii.bGong_rLei2]),e.push([ii.rLei2,ii.bGong_rLei3]),e.push([ii.rQi,ii.bGong_rQi_rLei]),e.push([ii.rQi_rLei,ii.bGong_rQi_rLei2]),e.push([ii.rQi_rLei2,ii.bGong_rQi_rLei3])}function d(){this.type=ii.rLei2,this.camp=si.red,this.moveType=ti.unable,this.isGroup=!0;var e=new Array;this.kills=e}function G(){this.type=ii.bGong_rQi_rLei,this.camp=si.blue,this.moveType=ti.curve,this.isGroup=!0;var e=new Array;this.kills=e,e.push([ii.rLeader,this.type]),e.push([ii.rJun,this.type]),e.push([ii.rShi,this.type]),e.push([ii.rLv,this.type]),e.push([ii.rTuan,this.type]),e.push([ii.rYing,this.type]),e.push([ii.rLian,this.type]),e.push([ii.rPai,this.type]),e.push([ii.bLei,ii.bGong_rQi]),e.push([ii.bQi,ii.bGong_rQi]),e.push([ii.rGong,0]),e.push([ii.rGong_bLei,0]),e.push([ii.rGong_bLei2,0]),e.push([ii.rGong_bLei3,0]),e.push([ii.rGong_bQi,0]),e.push([ii.rGong_bQi_bLei,0]),e.push([ii.rGong_bQi_bLei2,0]),e.push([ii.rGong_bQi_bLei3,0]),e.push([ii.rLei,ii.bGong_rQi_rLei2]),e.push([ii.rLei2,ii.bGong_rQi_rLei3])}function v(){this.type=ii.rQi_rLei2,this.camp=si.red,this.moveType=ti.unable,this.isGroup=!0;var e=new Array;this.kills=e}function C(){this.type=ii.bGong_rLei2,this.camp=si.blue,this.moveType=ti.curve,this.isGroup=!0;var e=new Array;this.kills=e,e.push([ii.rLeader,ii.bGong_rLei]),e.push([ii.rJun,ii.bGong_rLei]),e.push([ii.rShi,ii.bGong_rLei]),e.push([ii.rLv,ii.bGong_rLei]),e.push([ii.rTuan,ii.bGong_rLei]),e.push([ii.rYing,ii.bGong_rLei]),e.push([ii.rLian,ii.bGong_rLei]),e.push([ii.rPai,ii.bGong_rLei]),e.push([ii.bLei,ii.bGong_rLei]),e.push([ii.bQi,ii.bGong_rLei]),e.push([ii.rGong,0]),e.push([ii.rGong_bLei,0]),e.push([ii.rGong_bLei2,0]),e.push([ii.rGong_bLei3,0]),e.push([ii.rGong_bQi,0]),e.push([ii.rGong_bQi_bLei,0]),e.push([ii.rGong_bQi_bLei2,0]),e.push([ii.rGong_bQi_bLei3,0]),e.push([ii.rLei,ii.bGong_rLei3]),e.push([ii.rQi,ii.bGong_rQi_rLei2]),e.push([ii.rQi_rLei,ii.bGong_rQi_rLei3])}function f(){this.type=ii.rLei3,this.camp=si.red,this.moveType=ti.unable,this.isGroup=!0;var e=new Array;this.kills=e}function m(){this.type=ii.bGong_rQi_rLei2,this.camp=si.blue,this.moveType=ti.curve,this.isGroup=!0;var e=new Array;this.kills=e,e.push([ii.rLeader,this.type]),e.push([ii.rJun,this.type]),e.push([ii.rShi,this.type]),e.push([ii.rLv,this.type]),e.push([ii.rTuan,this.type]),e.push([ii.rYing,this.type]),e.push([ii.rLian,this.type]),e.push([ii.rPai,this.type]),e.push([ii.bLei,ii.bGong_rQi_rLei]),e.push([ii.bQi,ii.bGong_rQi_rLei]),e.push([ii.rGong,0]),e.push([ii.rGong_bLei,0]),e.push([ii.rGong_bLei2,0]),e.push([ii.rGong_bLei3,0]),e.push([ii.rGong_bQi,0]),e.push([ii.rGong_bQi_bLei,0]),e.push([ii.rGong_bQi_bLei2,0]),e.push([ii.rGong_bQi_bLei3,0]),e.push([ii.rLei,ii.bGong_rQi_rLei3])}function P(){this.type=ii.rQi_rLei3,this.camp=si.red,this.moveType=ti.unable,this.isGroup=!0;var e=new Array;this.kills=e}function S(){this.type=ii.bGong_rLei3,this.camp=si.blue,this.moveType=ti.curve,this.isGroup=!0;var e=new Array;this.kills=e,e.push([ii.rLeader,ii.bGong_rLei2]),e.push([ii.rJun,ii.bGong_rLei2]),e.push([ii.rShi,ii.bGong_rLei2]),e.push([ii.rLv,ii.bGong_rLei2]),e.push([ii.rTuan,ii.bGong_rLei2]),e.push([ii.rYing,ii.bGong_rLei2]),e.push([ii.rLian,ii.bGong_rLei2]),e.push([ii.rPai,ii.bGong_rLei2]),e.push([ii.bLei,ii.bGong_rLei2]),e.push([ii.bQi,ii.bGong_rLei2]),e.push([ii.rGong,0]),e.push([ii.rGong_bLei,0]),e.push([ii.rGong_bLei2,0]),e.push([ii.rGong_bLei3,0]),e.push([ii.rGong_bQi,0]),e.push([ii.rGong_bQi_bLei,0]),e.push([ii.rGong_bQi_bLei2,0]),e.push([ii.rGong_bQi_bLei3,0]),e.push([ii.rQi,ii.bGong_rQi_rLei3])}function Q(){this.type=ii.bGong_rQi_rLei3,this.camp=si.blue,this.moveType=ti.curve,this.isGroup=!0;var e=new Array;this.kills=e,e.push([ii.rLeader,this.type]),e.push([ii.rJun,this.type]),e.push([ii.rShi,this.type]),e.push([ii.rLv,this.type]),e.push([ii.rTuan,this.type]),e.push([ii.rYing,this.type]),e.push([ii.rLian,this.type]),e.push([ii.rPai,this.type]),e.push([ii.bLei,ii.bGong_rQi_rLei2]),e.push([ii.bQi,ii.bGong_rQi_rLei2]),e.push([ii.rGong,0]),e.push([ii.rGong_bLei,0]),e.push([ii.rGong_bLei2,0]),e.push([ii.rGong_bLei3,0]),e.push([ii.rGong_bQi,0]),e.push([ii.rGong_bQi_bLei,0]),e.push([ii.rGong_bQi_bLei2,0]),e.push([ii.rGong_bQi_bLei3,0])}function T(){this.type=ii.bPai_rZha,this.camp=si.blue,this.moveType=ti.oneStep,this.isGroup=!0;var e=new Array;this.kills=e,e.push([ii.rLeader,ii.bPai]),e.push([ii.rJun,ii.bPai]),e.push([ii.rShi,ii.bPai]),e.push([ii.rLv,ii.bPai]),e.push([ii.rTuan,ii.bPai]),e.push([ii.rYing,ii.bPai]),e.push([ii.rLian,ii.bPai]),e.push([ii.rPai,0]),e.push([ii.rPai_bZha,0]),e.push([ii.rPai_bZha2,0]),e.push([ii.rZha,ii.bPai_rZha2]),e.push([ii.rGong,this.type]),e.push([ii.rGong_bLei,ii.bPai]),e.push([ii.rGong_bLei2,ii.bPai]),e.push([ii.rGong_bLei3,ii.bPai]),e.push([ii.rGong_bQi,ii.bPai]),e.push([ii.rGong_bQi_bLei,ii.bPai]),e.push([ii.rGong_bQi_bLei2,ii.bPai]),e.push([ii.rGong_bQi_bLei3,ii.bPai]),e.push([ii.rLei,ii.bPai]),e.push([ii.rLei2,ii.bPai]),e.push([ii.rLei3,ii.bPai]),e.push([ii.rQi,ii.bPai]),e.push([ii.rQi_rLei,ii.bPai]),e.push([ii.rQi_rLei2,ii.bPai]),e.push([ii.rQi_rLei3,ii.bPai]),e.push([ii.bLei,ii.bPai]),e.push([ii.bLei2,ii.bPai]),e.push([ii.bLei3,ii.bPai]),e.push([ii.bQi,ii.bPai]),e.push([ii.bQi_bLei,ii.bPai]),e.push([ii.bQi_bLei2,ii.bPai]),e.push([ii.bQi_bLei3,ii.bPai])}function R(){this.type=ii.bPai_rZha2,this.camp=si.blue,this.moveType=ti.oneStep,this.isGroup=!0;var e=new Array;this.kills=e,e.push([ii.rLeader,ii.bPai_rZha]),e.push([ii.rJun,ii.bPai_rZha]),e.push([ii.rShi,ii.bPai_rZha]),e.push([ii.rLv,ii.bPai_rZha]),e.push([ii.rTuan,ii.bPai_rZha]),e.push([ii.rYing,ii.bPai_rZha]),e.push([ii.rLian,ii.bPai_rZha]),e.push([ii.rPai,0]),e.push([ii.rPai_bZha,0]),e.push([ii.rPai_bZha2,0]),e.push([ii.rGong,this.type]),e.push([ii.rGong_bLei,ii.bPai_rZha]),e.push([ii.rGong_bLei2,ii.bPai_rZha]),e.push([ii.rGong_bLei3,ii.bPai_rZha]),e.push([ii.rGong_bQi,ii.bPai_rZha]),e.push([ii.rGong_bQi_bLei,ii.bPai_rZha]),e.push([ii.rGong_bQi_bLei2,ii.bPai_rZha]),e.push([ii.rGong_bQi_bLei3,ii.bPai_rZha]),e.push([ii.rLei,ii.bPai_rZha]),e.push([ii.rLei2,ii.bPai_rZha]),e.push([ii.rLei3,ii.bPai_rZha]),e.push([ii.rQi,ii.bPai_rZha]),e.push([ii.rQi_rLei,ii.bPai_rZha]),e.push([ii.rQi_rLei2,ii.bPai_rZha]),e.push([ii.rQi_rLei3,ii.bPai_rZha]),e.push([ii.bLei,ii.bPai_rZha]),e.push([ii.bLei2,ii.bPai_rZha]),e.push([ii.bLei3,ii.bPai_rZha]),e.push([ii.bQi,ii.bPai_rZha]),e.push([ii.bQi_bLei,ii.bPai_rZha]),e.push([ii.bQi_bLei2,ii.bPai_rZha]),e.push([ii.bQi_bLei3,ii.bPai_rZha])}function A(){this.type=ii.rLeader,this.camp=si.red,this.moveType=ti.oneStep,this.isGroup=!1,this.description="司令";var e=new Array;this.kills=e,e.push([ii.bLeader,0]),e.push([ii.bJun,this.type]),e.push([ii.bShi,this.type]),e.push([ii.bLv,this.type]),e.push([ii.bTuan,this.type]),e.push([ii.bYing,this.type]),e.push([ii.bLian,this.type]),e.push([ii.bPai,this.type]),e.push([ii.bGong,this.type])}function w(){this.type=ii.rJun,this.camp=si.red,this.moveType=ti.oneStep,this.isGroup=!1,this.description="军长";var e=new Array;this.kills=e,e.push([ii.bJun,0]),e.push([ii.bShi,this.type]),e.push([ii.bLv,this.type]),e.push([ii.bTuan,this.type]),e.push([ii.bYing,this.type]),e.push([ii.bLian,this.type]),e.push([ii.bPai,this.type]),e.push([ii.bGong,this.type])}function x(){this.type=ii.rShi,this.camp=si.red,this.moveType=ti.oneStep,this.isGroup=!1,this.description="师长";var e=new Array;this.kills=e,e.push([ii.bShi,0]),e.push([ii.bLv,this.type]),e.push([ii.bTuan,this.type]),e.push([ii.bYing,this.type]),e.push([ii.bLian,this.type]),e.push([ii.bPai,this.type]),e.push([ii.bGong,this.type])}function E(){this.type=ii.rLv,this.camp=si.red,this.moveType=ti.oneStep,this.isGroup=!1,this.description="旅长";var e=new Array;this.kills=e,e.push([ii.bLv,0]),e.push([ii.bTuan,this.type]),e.push([ii.bYing,this.type]),e.push([ii.bLian,this.type]),e.push([ii.bPai,this.type]),e.push([ii.bGong,this.type])}function O(){this.type=ii.rTuan,this.camp=si.red,this.moveType=ti.oneStep,this.isGroup=!1,this.description="团长";var e=new Array;this.kills=e,e.push([ii.bTuan,0]),e.push([ii.bYing,this.type]),e.push([ii.bLian,this.type]),e.push([ii.bPai,this.type]),e.push([ii.bGong,this.type])}function k(){this.type=ii.rYing,this.camp=si.red,this.moveType=ti.oneStep,this.isGroup=!1,this.description="营长";var e=new Array;this.kills=e,e.push([ii.bYing,0]),e.push([ii.bLian,this.type]),e.push([ii.bPai,this.type]),e.push([ii.bGong,this.type])}function B(){this.type=ii.rLian,this.camp=si.red,this.moveType=ti.oneStep,this.isGroup=!1,this.description="连长";var e=new Array;this.kills=e,e.push([ii.bLian,0]),e.push([ii.bPai,this.type]),e.push([ii.bGong,this.type])}function Z(){this.type=ii.rPai,this.camp=si.red,this.moveType=ti.oneStep,this.isGroup=!1,this.description="排长";var e=new Array;this.kills=e,e.push([ii.bPai,0]),e.push([ii.bGong,this.type]),e.push([ii.bZha,ii.rPai_bZha]),e.push([ii.bPai_rZha,0]),e.push([ii.bPai_rZha2,0])}function K(){this.type=ii.rGong,this.camp=si.red,this.moveType=ti.curve,this.isGroup=!1,this.description="工兵";var e=new Array;this.kills=e,e.push([ii.bGong,0]),e.push([ii.bGong_rLei,0]),e.push([ii.bGong_rLei2,0]),e.push([ii.bGong_rLei3,0]),e.push([ii.bGong_rQi,0]),e.push([ii.bGong_rQi_rLei,0]),e.push([ii.bGong_rQi_rLei2,0]),e.push([ii.bGong_rQi_rLei3,0]),e.push([ii.bLei,ii.rGong_bLei]),e.push([ii.bLei2,ii.rGong_bLei2]),e.push([ii.bLei3,ii.rGong_bLei3]),e.push([ii.bQi,ii.rGong_bQi]),e.push([ii.bQi_bLei,ii.rGong_bQi]),e.push([ii.bQi_bLei2,ii.rGong_bQi_bLei2]),e.push([ii.bQi_bLei3,ii.rGong_bQi_bLei3])}function M(){this.type=ii.rZha,this.camp=si.red,this.moveType=ti.line,this.isGroup=!1,this.description="炸弹";var e=new Array;this.kills=e,e.push([ii.bZha,0]),e.push([ii.bLeader,0]),e.push([ii.bJun,0]),e.push([ii.bShi,0]),e.push([ii.bLv,0]),e.push([ii.bTuan,0]),e.push([ii.bYing,0]),e.push([ii.bLian,0]),e.push([ii.bGong,0]),e.push([ii.bGong_rLei,0]),e.push([ii.bGong_rLei2,0]),e.push([ii.bGong_rLei3,0]),e.push([ii.bGong_rQi,0]),e.push([ii.bGong_rQi_rLei,0]),e.push([ii.bGong_rQi_rLei2,0]),e.push([ii.bGong_rQi_rLei3,0]),e.push([ii.bLei,0]),e.push([ii.bLei2,0]),e.push([ii.bLei3,0]),e.push([ii.bQi,0]),e.push([ii.bQi_bLei,0]),e.push([ii.bQi_bLei2,0]),e.push([ii.bQi_bLei3,0]),e.push([ii.rLei,0]),e.push([ii.rLei2,0]),e.push([ii.rLei3,0]),e.push([ii.rQi,0]),e.push([ii.rQi_rLei,0]),e.push([ii.rQi_rLei2,0]),e.push([ii.rQi_rLei3,0])}function Y(){this.type=ii.rLei,this.camp=si.red,this.moveType=ti.unable,this.isGroup=!1,this.description="地雷";var e=new Array;this.kills=e}function H(){this.type=ii.rQi,this.camp=si.red,this.moveType=ti.unable,this.isGroup=!1,this.description="军旗";var e=new Array;this.kills=e}function V(){this.type=ii.rGong_bQi,this.camp=si.red,this.moveType=ti.curve,this.isGroup=!0;var e=new Array;this.kills=e,e.push([ii.bLeader,this.type]),e.push([ii.bJun,this.type]),e.push([ii.bShi,this.type]),e.push([ii.bLv,this.type]),e.push([ii.bTuan,this.type]),e.push([ii.bYing,this.type]),e.push([ii.bLian,this.type]),e.push([ii.bPai,this.type]),e.push([ii.bGong,0]),e.push([ii.bGong_rLei,0]),e.push([ii.bGong_rLei2,0]),e.push([ii.bGong_rLei3,0]),e.push([ii.bGong_rQi,0]),e.push([ii.bGong_rQi_rLei,0]),e.push([ii.bGong_rQi_rLei2,0]),e.push([ii.bGong_rQi_rLei3,0]),e.push([ii.bLei,ii.rGong_bQi_bLei]),e.push([ii.bLei2,ii.rGong_bQi_bLei2]),e.push([ii.bLei3,ii.rGong_bQi_bLei3])
}function I(){this.type=ii.bQi_bLei,this.camp=si.blue,this.moveType=ti.unable,this.isGroup=!0;var e=new Array;this.kills=e}function U(){this.type=ii.rGong_bLei,this.camp=si.red,this.moveType=ti.curve,this.isGroup=!0;var e=new Array;this.kills=e,e.push([ii.bLeader,ii.rGong]),e.push([ii.bJun,ii.rGong]),e.push([ii.bShi,ii.rGong]),e.push([ii.bLv,ii.rGong]),e.push([ii.bTuan,ii.rGong]),e.push([ii.bYing,ii.rGong]),e.push([ii.bLian,ii.rGong]),e.push([ii.bPai,ii.rGong]),e.push([ii.rLei,ii.rGong]),e.push([ii.rQi,ii.rGong]),e.push([ii.bGong,0]),e.push([ii.bGong_rLei,0]),e.push([ii.bGong_rLei2,0]),e.push([ii.bGong_rLei3,0]),e.push([ii.bGong_rQi,0]),e.push([ii.bGong_rQi_rLei,0]),e.push([ii.bGong_rQi_rLei2,0]),e.push([ii.bGong_rQi_rLei3,0]),e.push([ii.bLei,ii.rGong_bLei2]),e.push([ii.bLei2,ii.rGong_bLei3]),e.push([ii.bQi,ii.rGong_bQi_bLei]),e.push([ii.bQi_bLei,ii.rGong_bQi_bLei2]),e.push([ii.bQi_bLei2,ii.rGong_bQi_bLei3])}function F(){this.type=ii.bLei2,this.camp=si.blue,this.moveType=ti.unable,this.isGroup=!0;var e=new Array;this.kills=e}function z(){this.type=ii.rGong_bQi_bLei,this.camp=si.red,this.moveType=ti.curve,this.isGroup=!0;var e=new Array;this.kills=e,e.push([ii.bLeader,this.type]),e.push([ii.bJun,this.type]),e.push([ii.bShi,this.type]),e.push([ii.bLv,this.type]),e.push([ii.bTuan,this.type]),e.push([ii.bYing,this.type]),e.push([ii.bLian,this.type]),e.push([ii.bPai,this.type]),e.push([ii.rLei,ii.rGong_bQi]),e.push([ii.rQi,ii.rGong_bQi]),e.push([ii.bGong,0]),e.push([ii.bGong_rLei,0]),e.push([ii.bGong_rLei2,0]),e.push([ii.bGong_rLei3,0]),e.push([ii.bGong_rQi,0]),e.push([ii.bGong_rQi_rLei,0]),e.push([ii.bGong_rQi_rLei2,0]),e.push([ii.bGong_rQi_rLei3,0]),e.push([ii.bLei,ii.rGong_bQi_bLei2]),e.push([ii.bLei2,ii.rGong_bQi_bLei3])}function W(){this.type=ii.bQi_bLei2,this.camp=si.blue,this.moveType=ti.unable,this.isGroup=!0;var e=new Array;this.kills=e}function J(){this.type=ii.rGong_bLei2,this.camp=si.red,this.moveType=ti.curve,this.isGroup=!0;var e=new Array;this.kills=e,e.push([ii.bLeader,ii.rGong_bLei]),e.push([ii.bJun,ii.rGong_bLei]),e.push([ii.bShi,ii.rGong_bLei]),e.push([ii.bLv,ii.rGong_bLei]),e.push([ii.bTuan,ii.rGong_bLei]),e.push([ii.bYing,ii.rGong_bLei]),e.push([ii.bLian,ii.rGong_bLei]),e.push([ii.bPai,ii.rGong_bLei]),e.push([ii.rLei,ii.rGong_bLei]),e.push([ii.rQi,ii.rGong_bLei]),e.push([ii.bGong,0]),e.push([ii.bGong_rLei,0]),e.push([ii.bGong_rLei2,0]),e.push([ii.bGong_rLei3,0]),e.push([ii.bGong_rQi,0]),e.push([ii.bGong_rQi_rLei,0]),e.push([ii.bGong_rQi_rLei2,0]),e.push([ii.bGong_rQi_rLei3,0]),e.push([ii.bLei,ii.rGong_bLei3]),e.push([ii.bQi,ii.rGong_bQi_bLei2]),e.push([ii.bQi_bLei,ii.rGong_bQi_bLei3])}function N(){this.type=ii.bLei3,this.camp=si.blue,this.moveType=ti.unable,this.isGroup=!0;var e=new Array;this.kills=e}function X(){this.type=ii.rGong_bQi_bLei2,this.camp=si.red,this.moveType=ti.curve,this.isGroup=!0;var e=new Array;this.kills=e,e.push([ii.bLeader,this.type]),e.push([ii.bJun,this.type]),e.push([ii.bShi,this.type]),e.push([ii.bLv,this.type]),e.push([ii.bTuan,this.type]),e.push([ii.bYing,this.type]),e.push([ii.bLian,this.type]),e.push([ii.bPai,this.type]),e.push([ii.rLei,ii.rGong_bQi_bLei]),e.push([ii.rQi,ii.rGong_bQi_bLei]),e.push([ii.bGong,0]),e.push([ii.bGong_rLei,0]),e.push([ii.bGong_rLei2,0]),e.push([ii.bGong_rLei3,0]),e.push([ii.bGong_rQi,0]),e.push([ii.bGong_rQi_rLei,0]),e.push([ii.bGong_rQi_rLei2,0]),e.push([ii.bGong_rQi_rLei3,0]),e.push([ii.bLei,ii.rGong_bQi_bLei3])}function j(){this.type=ii.bQi_bLei3,this.camp=si.blue,this.moveType=ti.unable,this.isGroup=!0;var e=new Array;this.kills=e}function D(){this.type=ii.rGong_bLei3,this.camp=si.red,this.moveType=ti.curve,this.isGroup=!0;var e=new Array;this.kills=e,e.push([ii.bLeader,ii.rGong_bLei2]),e.push([ii.bJun,ii.rGong_bLei2]),e.push([ii.bShi,ii.rGong_bLei2]),e.push([ii.bLv,ii.rGong_bLei2]),e.push([ii.bTuan,ii.rGong_bLei2]),e.push([ii.bYing,ii.rGong_bLei2]),e.push([ii.bLian,ii.rGong_bLei2]),e.push([ii.bPai,ii.rGong_bLei2]),e.push([ii.rLei,ii.rGong_bLei2]),e.push([ii.rQi,ii.rGong_bLei2]),e.push([ii.bGong,0]),e.push([ii.bGong_rLei,0]),e.push([ii.bGong_rLei2,0]),e.push([ii.bGong_rLei3,0]),e.push([ii.bGong_rQi,0]),e.push([ii.bGong_rQi_rLei,0]),e.push([ii.bGong_rQi_rLei2,0]),e.push([ii.bGong_rQi_rLei3,0]),e.push([ii.bQi,ii.rGong_bQi_bLei3])}function q(){this.type=ii.rGong_bQi_bLei3,this.camp=si.red,this.moveType=ti.curve,this.isGroup=!0;var e=new Array;this.kills=e,e.push([ii.bLeader,this.type]),e.push([ii.bJun,this.type]),e.push([ii.bShi,this.type]),e.push([ii.bLv,this.type]),e.push([ii.bTuan,this.type]),e.push([ii.bYing,this.type]),e.push([ii.bLian,this.type]),e.push([ii.bPai,this.type]),e.push([ii.rLei,ii.rGong_bQi_bLei2]),e.push([ii.rQi,ii.rGong_bQi_bLei2]),e.push([ii.bGong,0]),e.push([ii.bGong_rLei,0]),e.push([ii.bGong_rLei2,0]),e.push([ii.bGong_rLei3,0]),e.push([ii.bGong_rQi,0]),e.push([ii.bGong_rQi_rLei,0]),e.push([ii.bGong_rQi_rLei2,0]),e.push([ii.bGong_rQi_rLei3,0])}function $(){this.type=ii.rPai_bZha,this.camp=si.red,this.moveType=ti.oneStep,this.isGroup=!0;var e=new Array;this.kills=e,e.push([ii.bLeader,ii.rPai]),e.push([ii.bJun,ii.rPai]),e.push([ii.bShi,ii.rPai]),e.push([ii.bLv,ii.rPai]),e.push([ii.bTuan,ii.rPai]),e.push([ii.bYing,ii.rPai]),e.push([ii.bLian,ii.rPai]),e.push([ii.bPai,0]),e.push([ii.bPai_rZha,0]),e.push([ii.bPai_rZha2,0]),e.push([ii.bZha,ii.rPai_bZha2]),e.push([ii.bGong,this.type]),e.push([ii.bGong_rLei,ii.rPai]),e.push([ii.bGong_rLei2,ii.rPai]),e.push([ii.bGong_rLei3,ii.rPai]),e.push([ii.bGong_rQi,ii.rPai]),e.push([ii.bGong_rQi_rLei,ii.rPai]),e.push([ii.bGong_rQi_rLei2,ii.rPai]),e.push([ii.bGong_rQi_rLei3,ii.rPai]),e.push([ii.bLei,ii.rPai]),e.push([ii.bLei2,ii.rPai]),e.push([ii.bLei3,ii.rPai]),e.push([ii.bQi,ii.rPai]),e.push([ii.bQi_bLei,ii.rPai]),e.push([ii.bQi_bLei2,ii.rPai]),e.push([ii.bQi_bLei3,ii.rPai]),e.push([ii.rLei,ii.rPai]),e.push([ii.rLei2,ii.rPai]),e.push([ii.rLei3,ii.rPai]),e.push([ii.rQi,ii.rPai]),e.push([ii.rQi_rLei,ii.rPai]),e.push([ii.rQi_rLei2,ii.rPai]),e.push([ii.rQi_rLei3,ii.rPai])}function ei(){this.type=ii.rPai_bZha2,this.camp=si.red,this.moveType=ti.oneStep,this.isGroup=!0;var e=new Array;this.kills=e,e.push([ii.bLeader,ii.rPai_bZha]),e.push([ii.bJun,ii.rPai_bZha]),e.push([ii.bShi,ii.rPai_bZha]),e.push([ii.bLv,ii.rPai_bZha]),e.push([ii.bTuan,ii.rPai_bZha]),e.push([ii.bYing,ii.rPai_bZha]),e.push([ii.bLian,ii.rPai_bZha]),e.push([ii.bPai,0]),e.push([ii.bPai_rZha,0]),e.push([ii.bPai_rZha2,0]),e.push([ii.bGong,this.type]),e.push([ii.bGong_rLei,ii.rPai_bZha]),e.push([ii.bGong_rLei2,ii.rPai_bZha]),e.push([ii.bGong_rLei3,ii.rPai_bZha]),e.push([ii.bGong_rQi,ii.rPai_bZha]),e.push([ii.bGong_rQi_rLei,ii.rPai_bZha]),e.push([ii.bGong_rQi_rLei2,ii.rPai_bZha]),e.push([ii.bGong_rQi_rLei3,ii.rPai_bZha]),e.push([ii.bLei,ii.rPai_bZha]),e.push([ii.bLei2,ii.rPai_bZha]),e.push([ii.bLei3,ii.rPai_bZha]),e.push([ii.bQi,ii.rPai_bZha]),e.push([ii.bQi_bLei,ii.rPai_bZha]),e.push([ii.bQi_bLei2,ii.rPai_bZha]),e.push([ii.bQi_bLei3,ii.rPai_bZha]),e.push([ii.rLei,ii.rPai_bZha]),e.push([ii.rLei2,ii.rPai_bZha]),e.push([ii.rLei3,ii.rPai_bZha]),e.push([ii.rQi,ii.rPai_bZha]),e.push([ii.rQi_rLei,ii.rPai_bZha]),e.push([ii.rQi_rLei2,ii.rPai_bZha]),e.push([ii.rQi_rLei3,ii.rPai_bZha])}var ii=con.chessType,si=con.camp,ti=con.moveType;e.Kong=new i,e.Cover=new s,e.BLeader=new t,e.BJun=new r,e.BShi=new h,e.BLv=new o,e.BTuan=new n,e.BYing=new a,e.BLian=new p,e.BPai=new u,e.BGong=new l,e.BZha=new c,e.BLei=new b,e.BQi=new g,e.RLeader=new A,e.RJun=new w,e.RShi=new x,e.RLv=new E,e.RTuan=new O,e.RYing=new k,e.RLian=new B,e.RPai=new Z,e.RGong=new K,e.RZha=new M,e.RLei=new Y,e.RQi=new H,e.BPai_rZha=new T,e.RPai_bZha=new $,e.BPai_rZha2=new R,e.RPai_bZha2=new ei,e.BGong_rQi=new _,e.RQi_rLei=new y,e.BGong_rLei=new L,e.RLei2=new d,e.BGong_rQi_rLei=new G,e.RQi_rLei2=new v,e.BGong_rLei2=new C,e.RLei3=new f,e.BGong_rQi_rLei2=new m,e.RQi_rLei3=new P,e.BGong_rLei3=new S,e.BGong_rQi_rLei3=new Q,e.RGong_bQi=new V,e.BQi_bLei=new I,e.RGong_bLei=new U,e.BLei2=new F,e.RGong_bQi_bLei=new z,e.BQi_bLei2=new W,e.RGong_bLei2=new J,e.BLei3=new N,e.RGong_bQi_bLei2=new X,e.BQi_bLei3=new j,e.RGong_bLei3=new D,e.RGong_bQi_bLei3=new q},e}();ChessKillRule.Kong={},ChessKillRule.Cover={},ChessKillRule.BLeader={},ChessKillRule.BJun={},ChessKillRule.BShi={},ChessKillRule.BLv={},ChessKillRule.BTuan={},ChessKillRule.BYing={},ChessKillRule.BLian={},ChessKillRule.BPai={},ChessKillRule.BGong={},ChessKillRule.BZha={},ChessKillRule.BLei={},ChessKillRule.BQi={},ChessKillRule.RLeader={},ChessKillRule.RJun={},ChessKillRule.RShi={},ChessKillRule.RLv={},ChessKillRule.RTuan={},ChessKillRule.RYing={},ChessKillRule.RLian={},ChessKillRule.RPai={},ChessKillRule.RGong={},ChessKillRule.RZha={},ChessKillRule.RLei={},ChessKillRule.RQi={},ChessKillRule.BPai_rZha={},ChessKillRule.RPai_bZha={},ChessKillRule.BPai_rZha2={},ChessKillRule.RPai_bZha2={},ChessKillRule.BGong_rQi={},ChessKillRule.RQi_rLei={},ChessKillRule.BGong_rLei={},ChessKillRule.RLei2={},ChessKillRule.BGong_rQi_rLei={},ChessKillRule.RQi_rLei2={},ChessKillRule.BGong_rLei2={},ChessKillRule.RLei3={},ChessKillRule.BGong_rQi_rLei2={},ChessKillRule.RQi_rLei3={},ChessKillRule.BGong_rLei3={},ChessKillRule.BGong_rQi_rLei3={},ChessKillRule.RGong_bQi={},ChessKillRule.BQi_bLei={},ChessKillRule.RGong_bLei={},ChessKillRule.BLei2={},ChessKillRule.RGong_bQi_bLei={},ChessKillRule.BQi_bLei2={},ChessKillRule.RGong_bLei2={},ChessKillRule.BLei3={},ChessKillRule.RGong_bQi_bLei2={},ChessKillRule.BQi_bLei3={},ChessKillRule.RGong_bLei3={},ChessKillRule.RGong_bQi_bLei3={},__reflect(ChessKillRule.prototype,"ChessKillRule");var con;!function(e){function i(){e.ctObjMap={0:ChessKillRule.Kong,500:ChessKillRule.Cover,49:ChessKillRule.BLeader,50:ChessKillRule.BJun,26:ChessKillRule.BShi,28:ChessKillRule.BLv,30:ChessKillRule.BTuan,32:ChessKillRule.BYing,23:ChessKillRule.BLian,20:ChessKillRule.BPai,51:ChessKillRule.BGong,54:ChessKillRule.BZha,67:ChessKillRule.BLei,59:ChessKillRule.BQi,65:ChessKillRule.RLeader,66:ChessKillRule.RJun,40:ChessKillRule.RShi,42:ChessKillRule.RLv,44:ChessKillRule.RTuan,46:ChessKillRule.RYing,34:ChessKillRule.RLian,37:ChessKillRule.RPai,62:ChessKillRule.RGong,60:ChessKillRule.RZha,56:ChessKillRule.RLei,48:ChessKillRule.RQi,80:ChessKillRule.BPai_rZha,91:ChessKillRule.RPai_bZha,141:ChessKillRule.BPai_rZha2,146:ChessKillRule.RPai_bZha2,99:ChessKillRule.BGong_rQi,104:ChessKillRule.RQi_rLei,107:ChessKillRule.BGong_rLei,113:ChessKillRule.RLei2,155:ChessKillRule.BGong_rQi_rLei,161:ChessKillRule.RQi_rLei2,164:ChessKillRule.BGong_rLei2,171:ChessKillRule.RLei3,212:ChessKillRule.BGong_rQi_rLei2,219:ChessKillRule.RQi_rLei3,222:ChessKillRule.BGong_rLei3,270:ChessKillRule.BGong_rQi_rLei3,121:ChessKillRule.RGong_bQi,126:ChessKillRule.BQi_bLei,129:ChessKillRule.RGong_bLei,135:ChessKillRule.BLei2,188:ChessKillRule.RGong_bQi_bLei,194:ChessKillRule.BQi_bLei2,197:ChessKillRule.RGong_bLei2,204:ChessKillRule.BLei3,256:ChessKillRule.RGong_bQi_bLei2,263:ChessKillRule.BQi_bLei3,266:ChessKillRule.RGong_bLei3,325:ChessKillRule.RGong_bQi_bLei3}}function s(i){var s=0;s=Util.isArray(i)?Util.sumArray(i):i;var t=e.chessCtMap[s];return e.ctObjMap[t]}function t(e){return e!=o.neutral?e==o.blue?o.red:o.blue:o.neutral}function r(i,s){var t=e.positionGraph[i],r=t.indexOf(s);return-1!=r?!0:!1}function h(e,i){for(var s=e.kills,t=s.length,r=0;t>r;r++)if(s[r][0]===i.type)return!0;return!1}var o;!function(e){e[e.blue=1]="blue",e[e.red=2]="red",e[e.neutral=3]="neutral"}(o=e.camp||(e.camp={}));var n;!function(e){e[e.unable=0]="unable",e[e.oneStep=1]="oneStep",e[e.line=2]="line",e[e.curve=3]="curve"}(n=e.moveType||(e.moveType={}));var a=function(){function e(){this.isGroup=!1,this.description="",this.kills=[]}return e}();e.ChessAttr=a,__reflect(a.prototype,"con.ChessAttr");var p;!function(e){e[e.conn=1]="conn",e[e.login=2]="login",e[e.disconnect=3]="disconnect",e[e.logout=4]="logout"}(p=e.loginStatus||(e.loginStatus={}));var u;!function(e){e[e.login=1]="login",e[e.visitor=5]="visitor",e[e.player1=2]="player1",e[e.player2=3]="player2",e[e.looker=4]="looker"}(u=e.playerRole||(e.playerRole={}));var l;!function(e){e[e.distribute=5]="distribute",e[e.undistributed=6]="undistributed",e[e.ready=7]="ready",e[e.notReady=8]="notReady",e[e.start=9]="start",e[e.end=10]="end"}(l=e.playerStatus||(e.playerStatus={}));var c;!function(e){e[e.playing=1]="playing",e[e.lose=2]="lose",e[e.win=3]="win",e[e.draw=4]="draw"}(c=e.victoryStatus||(e.victoryStatus={})),e.positionGraph=new Array(60),e.positionGraph[0]=[5,1],e.positionGraph[1]=[6,2,0],e.positionGraph[2]=[7,3,1],e.positionGraph[3]=[8,4,2],e.positionGraph[4]=[9,3],e.positionGraph[5]=[10,11,6,0],e.positionGraph[6]=[11,7,1,5],e.positionGraph[7]=[12,13,8,2,6,11],e.positionGraph[8]=[13,9,3,7],e.positionGraph[9]=[14,4,8,13],e.positionGraph[10]=[15,11,5],e.positionGraph[11]=[16,17,12,7,6,5,10,15],e.positionGraph[12]=[17,13,7,11],e.positionGraph[13]=[18,19,14,9,8,7,12,17],e.positionGraph[14]=[19,9,13],e.positionGraph[15]=[20,21,16,11,10],e.positionGraph[16]=[21,17,11,15],e.positionGraph[17]=[22,23,18,13,12,11,16,21],e.positionGraph[18]=[23,19,13,17],e.positionGraph[19]=[24,14,13,18,23],e.positionGraph[20]=[25,21,15],e.positionGraph[21]=[26,27,22,17,16,15,20,25],e.positionGraph[22]=[27,23,17,21],e.positionGraph[23]=[28,29,24,19,18,17,22,27],e.positionGraph[24]=[29,19,23],e.positionGraph[25]=[30,26,21,20],e.positionGraph[26]=[27,21,25],e.positionGraph[27]=[32,28,23,22,21,26],e.positionGraph[28]=[29,23,27],e.positionGraph[29]=[34,24,23,28],e.positionGraph[30]=[35,36,31,25],e.positionGraph[31]=[36,32,30],e.positionGraph[32]=[37,38,33,27,31,36],e.positionGraph[33]=[38,34,32],e.positionGraph[34]=[39,29,33,38],e.positionGraph[35]=[40,36,30],e.positionGraph[36]=[41,42,37,32,31,30,35,40],e.positionGraph[37]=[42,38,32,36],e.positionGraph[38]=[43,44,39,34,33,32,37,42],e.positionGraph[39]=[44,34,38],e.positionGraph[40]=[45,46,41,36,35],e.positionGraph[41]=[46,42,36,40],e.positionGraph[42]=[47,48,43,38,37,36,41,46],e.positionGraph[43]=[48,44,38,42],e.positionGraph[44]=[49,39,38,43,48],e.positionGraph[45]=[50,46,40],e.positionGraph[46]=[51,52,47,42,41,40,45,50],e.positionGraph[47]=[52,48,42,46],e.positionGraph[48]=[53,54,49,44,43,42,47,52],e.positionGraph[49]=[54,44,48],e.positionGraph[50]=[55,51,46,45],e.positionGraph[51]=[56,52,46,50],e.positionGraph[52]=[57,53,48,47,46,51],e.positionGraph[53]=[58,54,48,52],e.positionGraph[54]=[59,49,48,53],e.positionGraph[55]=[56,50],e.positionGraph[56]=[57,51,55],e.positionGraph[57]=[58,52,56],e.positionGraph[58]=[59,53,57],e.positionGraph[59]=[54,58],e.xingyingPosition=[11,13,17,21,23,36,38,42,46,48],e.bigCampPosition=[1,3,56,58];var b;!function(e){e[e.kong=0]="kong",e[e.cover=500]="cover",e[e.bLeader=49]="bLeader",e[e.bJun=50]="bJun",e[e.bShi=26]="bShi",e[e.bLv=28]="bLv",e[e.bTuan=30]="bTuan",e[e.bYing=32]="bYing",e[e.bLian=23]="bLian",e[e.bPai=20]="bPai",e[e.bGong=51]="bGong",e[e.bZha=54]="bZha",e[e.bLei=67]="bLei",e[e.bQi=59]="bQi",e[e.rLeader=65]="rLeader",e[e.rJun=66]="rJun",e[e.rShi=40]="rShi",e[e.rLv=42]="rLv",e[e.rTuan=44]="rTuan",e[e.rYing=46]="rYing",e[e.rLian=34]="rLian",e[e.rPai=37]="rPai",e[e.rGong=62]="rGong",e[e.rZha=60]="rZha",e[e.rLei=56]="rLei",e[e.rQi=48]="rQi",e[e.bPai_rZha=80]="bPai_rZha",e[e.rPai_bZha=91]="rPai_bZha",e[e.bPai_rZha2=141]="bPai_rZha2",e[e.rPai_bZha2=146]="rPai_bZha2",e[e.bGong_rQi=99]="bGong_rQi",e[e.rQi_rLei=104]="rQi_rLei",e[e.bGong_rLei=107]="bGong_rLei",e[e.rLei2=113]="rLei2",e[e.bGong_rQi_rLei=155]="bGong_rQi_rLei",e[e.rQi_rLei2=161]="rQi_rLei2",e[e.bGong_rLei2=164]="bGong_rLei2",e[e.rLei3=171]="rLei3",e[e.bGong_rQi_rLei2=212]="bGong_rQi_rLei2",e[e.rQi_rLei3=219]="rQi_rLei3",e[e.bGong_rLei3=222]="bGong_rLei3",e[e.bGong_rQi_rLei3=270]="bGong_rQi_rLei3",e[e.rGong_bQi=121]="rGong_bQi",e[e.bQi_bLei=126]="bQi_bLei",e[e.rGong_bLei=129]="rGong_bLei",e[e.bLei2=135]="bLei2",e[e.rGong_bQi_bLei=188]="rGong_bQi_bLei",e[e.bQi_bLei2=194]="bQi_bLei2",e[e.rGong_bLei2=197]="rGong_bLei2",e[e.bLei3=204]="bLei3",e[e.rGong_bQi_bLei2=256]="rGong_bQi_bLei2",e[e.bQi_bLei3=263]="bQi_bLei3",e[e.rGong_bLei3=266]="rGong_bLei3",e[e.rGong_bQi_bLei3=325]="rGong_bQi_bLei3"}(b=e.chessType||(e.chessType={})),e.chessCtMap={0:b.kong,500:b.cover,20:b.bPai,21:b.bPai,22:b.bPai,23:b.bLian,24:b.bLian,25:b.bLian,26:b.bShi,27:b.bShi,28:b.bLv,29:b.bLv,30:b.bTuan,31:b.bTuan,32:b.bYing,33:b.bYing,34:b.rLian,35:b.rLian,36:b.rLian,37:b.rPai,38:b.rPai,39:b.rPai,40:b.rShi,41:b.rShi,42:b.rLv,43:b.rLv,44:b.rTuan,45:b.rTuan,46:b.rYing,47:b.rYing,48:b.rQi,49:b.bLeader,50:b.bJun,51:b.bGong,52:b.bGong,53:b.bGong,54:b.bZha,55:b.bZha,56:b.rLei,57:b.rLei,58:b.rLei,59:b.bQi,60:b.rZha,61:b.rZha,62:b.rGong,63:b.rGong,64:b.rGong,65:b.rLeader,66:b.rJun,67:b.bLei,68:b.bLei,69:b.bLei,99:b.bGong_rQi,100:b.bGong_rQi,101:b.bGong_rQi,104:b.rQi_rLei,105:b.rQi_rLei,106:b.rQi_rLei,107:b.bGong_rLei,108:b.bGong_rLei,109:b.bGong_rLei,110:b.bGong_rLei,111:b.bGong_rLei,113:b.rLei2,114:b.rLei2,115:b.rLei2,121:b.rGong_bQi,122:b.rGong_bQi,123:b.rGong_bQi,126:b.bQi_bLei,127:b.bQi_bLei,128:b.bQi_bLei,129:b.rGong_bLei,130:b.rGong_bLei,131:b.rGong_bLei,132:b.rGong_bLei,133:b.rGong_bLei,135:b.bLei2,136:b.bLei2,137:b.bLei2,155:b.bGong_rQi_rLei,156:b.bGong_rQi_rLei,157:b.bGong_rQi_rLei,158:b.bGong_rQi_rLei,159:b.bGong_rQi_rLei,161:b.rQi_rLei2,162:b.rQi_rLei2,163:b.rQi_rLei2,164:b.bGong_rLei2,165:b.bGong_rLei2,166:b.bGong_rLei2,167:b.bGong_rLei2,168:b.bGong_rLei2,171:b.rLei3,188:b.rGong_bQi_bLei,189:b.rGong_bQi_bLei,190:b.rGong_bQi_bLei,191:b.rGong_bQi_bLei,192:b.rGong_bQi_bLei,194:b.bQi_bLei2,195:b.bQi_bLei2,196:b.bQi_bLei2,197:b.rGong_bLei2,198:b.rGong_bLei2,199:b.rGong_bLei2,200:b.rGong_bLei2,201:b.rGong_bLei2,204:b.bLei3,212:b.bGong_rQi_rLei2,213:b.bGong_rQi_rLei2,214:b.bGong_rQi_rLei2,215:b.bGong_rQi_rLei2,216:b.bGong_rQi_rLei2,219:b.rQi_rLei3,222:b.bGong_rLei3,223:b.bGong_rLei3,224:b.bGong_rLei3,256:b.rGong_bQi_bLei2,257:b.rGong_bQi_bLei2,258:b.rGong_bQi_bLei2,259:b.rGong_bQi_bLei2,260:b.rGong_bQi_bLei2,263:b.bQi_bLei3,266:b.rGong_bLei3,267:b.rGong_bLei3,268:b.rGong_bLei3,270:b.bGong_rQi_rLei3,271:b.bGong_rQi_rLei3,272:b.bGong_rQi_rLei3,325:b.rGong_bQi_bLei3,326:b.rGong_bQi_bLei3,327:b.rGong_bQi_bLei3,80:b.bPai_rZha,81:b.bPai_rZha,82:b.bPai_rZha,83:b.bPai_rZha,91:b.rPai_bZha,92:b.rPai_bZha,93:b.rPai_bZha,94:b.rPai_bZha,141:b.bPai_rZha2,142:b.bPai_rZha2,143:b.bPai_rZha2,146:b.rPai_bZha2,147:b.rPai_bZha2,148:b.rPai_bZha2},e.ctObjMap={},e.initCtObjMap=i,e.getChessObjByChess=s,e.getOppositeCamp=t,e.isNextPosition=r,e.isKillChessObj=h}(con||(con={}));var PathSearch=function(){function e(){var e=[];e.push([0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),e.push([1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),e.push([0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),e.push([0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),e.push([0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),e.push([1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),e.push([0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),e.push([0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),e.push([0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),e.push([0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),e.push([0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),e.push([0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),e.push([0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),e.push([0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0]),e.push([0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),e.push([0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0]),e.push([0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0]),e.push([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0]),e.push([0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0]),e.push([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0]),e.push([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0]),e.push([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0]),e.push([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0]),e.push([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0]),e.push([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0]),e.push([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0]),e.push([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1]),e.push([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0]),e.push([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0]),e.push([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0]),e.push([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1]),e.push([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0]),this.edges=e,this.vertexList=[5,6,7,8,9,10,14,15,19,20,24,25,26,27,28,29,30,31,32,33,34,35,39,40,44,45,49,50,51,52,53,54],this.numOfVertex=this.vertexList.length}return e.Shared=function(){return null==e.shared&&(e.shared=new e),e.shared},e.prototype.curvePath=function(e,i,s){var t={isMove:null,path:null},r=this.vertexList,h=this.numOfVertex,o=-1,n=-1,a=new Array(h),p=[];this.path=p;var u=new Array(h);this.chessList=u;for(var l=0;h>l;l++)a[l]=!1,u[l]=e[r[l]][0];if(o=r.indexOf(i),n=r.indexOf(s),this.endVertex=n,-1===o||-1===n)return t.isMove=!1,t.path=[],t;u[o]=1,u[n]=1,p.push(n),t.isMove=this.privateDepthFirstSearch(a,o),p.push(o);for(var l=0;l<p.length;l++)p[l]=r[p[l]];return p.reverse(),t.path=p,t},e.prototype.privateDepthFirstSearch=function(e,i){e[i]=!0;for(var s=this.getFirstNeighbor(i);-1!=s;){if(s==this.endVertex)return!0;if(!e[s]&&0==this.chessList[s]&&this.privateDepthFirstSearch(e,s))return this.path.push(s),!0;s=this.getNextNeighbor(i,s)}return!1},e.prototype.getFirstNeighbor=function(e){for(var i=0;i<this.numOfVertex;i++)if(this.edges[e][i]>0)return i;return-1},e.prototype.getNextNeighbor=function(e,i){for(var s=i+1;s<this.numOfVertex;s++)if(this.edges[e][s]>0)return s;return-1},e.prototype.linePath=function(e,i,s){var t=Math.floor(i%5),r=Math.floor(i/5),h=Math.floor(s%5),o=Math.floor(s/5),n=0,a=[],p=!1;if(a.push(5*r+t),t==h&&(0==t||4==t))if(r>=o)for(n=r-1;n>o;n--){if(0!=e[5*n+t][0]){p=!1;break}a.push(5*n+t),p=!0}else for(n=r+1;o>n;n++){if(0!=e[5*n+t][0]){p=!1;break}a.push(5*n+t),p=!0}if(r==o&&(1==r||5==r||6==r||10==r))if(t>=h)for(n=t-1;n>h;n--){if(0!=e[5*r+n][0]){p=!1;break}a.push(5*r+n),p=!0}else for(n=t+1;h>n;n++){if(0!=e[5*r+n][0]){p=!1;break}a.push(5*r+n),p=!0}return t==h&&2==t&&(5==r&&6==o||6==r&&5==o)&&(p=!0),a.push(5*o+h),{isMove:p,path:a}},e}();__reflect(PathSearch.prototype,"PathSearch");var Player=function(){function e(e,i){this.chessboard=[],this.chessGroupArr=[],this.maxWaitTime=3e4,this.currentSecond=0,this.sceneBattle=e,this.chessGroupParent=e.group_chessGroup,this.serverImpl=i,this.playerStatus=con.victoryStatus.playing,this.loginStatus=con.loginStatus.logout,this.victoryStatus=con.victoryStatus.playing,this.playerRole=con.playerRole.visitor}return e.prototype.init=function(e){this.clearTimrr(),this.sourceLoc=-1,this.targetLoc=-1,e?(this.isPlaying=e.isPlaying,this.camp=e.camp,this.hostCamp=e.hostCamp,this.playerStatus=e.playerStatus,this.loginStatus=e.loginStatus,this.victoryStatus=e.victoryStatus,this.playerRole=e.playerRole,this.chessboard=Util.clone(e.chessboard)):(this.isPlaying=!1,this.camp=con.camp.neutral,this.hostCamp=con.camp.neutral,this.playerStatus=con.victoryStatus.playing,this.loginStatus=con.loginStatus.logout,this.victoryStatus=con.victoryStatus.playing,this.playerRole=con.playerRole.visitor),this.setChessboard(this.chessboard),this.startTiming()},e.prototype.setChessboard=function(e){if(this.chessboard=Util.clone(e),null!=this.chessboard&&60===this.chessboard.length){this.chessGroupArr=[],this.chessGroupParent.removeChildren();for(var i=null,s=0;60>s;s++)i=new ChessGroup(this,s),i.setChessGroup(this.chessboard[s]),this.chessGroupArr.push(i),this.chessGroupParent.addChild(i)}},e.prototype.getChessGroupByLoc=function(e){return this.chessGroupArr?this.chessGroupArr[e]:null},e.prototype.cancleAllSelectChessGroup=function(){this.selectChessArr=[],this.chessGroupArr.forEach(function(e){e.selectChessGroup(!1)})},e.prototype.addSelectChess=function(e){-1==this.selectChessArr.indexOf(e)&&this.selectChessArr.push(e)},e.prototype.outSelectChess=function(e){var i=this.selectChessArr.indexOf(e);i>-1&&this.selectChessArr.splice(i,1)},e.prototype.hideAllChessGroupSelectChessPanel=function(){this.chessGroupArr.forEach(function(e){e.hideSelecChessPanel()})},e.prototype.overChess=function(e){this.sourceLoc=-1,this.targetLoc=-1,this.selectChessArr=[],this.setHostPlayer({isPlaying:e.isPlaying,camp:e.camp,hostCamp:e.hostCamp}),this.chessboard[e.loc]=[e.chess];var i=this,s=this.chessGroupArr[e.loc];s.overChess(e.chess,function(){i.cancleAllSelectChessGroup(),s.setChessGroup([e.chess]),s.selectChessGroup(!0)})},e.prototype.moveChess=function(e){function i(){t.setChessGroup(e.sourceArr),t.selectChessGroup(!0),r.setChessGroup(e.targetArr),r.selectChessGroup(!0),s.playerVictory()}if(e.success){var s=this;this.victoryStatus=e.victoryStatus,this.setHostPlayer({isPlaying:e.isPlaying,camp:e.camp,hostCamp:e.hostCamp}),this.chessboard[e.souLoc]=e.sourceArr,this.chessboard[e.tarLoc]=e.targetArr;var t=this.chessGroupArr[e.souLoc],r=this.chessGroupArr[e.tarLoc];t.moveChess(e.tarLoc,e.path,e.selectArr,i)}},e.prototype.playerVictory=function(){var e=this.victoryStatus;e!==con.victoryStatus.playing&&(this.clearTimrr(),this.isPlaying=!1,this.sceneBattle.setVictory(this.camp,e))},e.prototype.clickChessGroup=function(e){var i=this;if(e.selectChessArr.length>0)return e.selectChessGroup(!1),void(i.sourceLoc=-1);i.hideAllChessGroupSelectChessPanel();var s=e.loc,t=CheckRule.Shared();if(i.isPlaying){if(t.checkOverChess(i.chessboard,s))return i.sourceLoc=s,void i.serverImpl.overChess(i,s);if(i.camp!=con.camp.neutral){if(!t.checkSelTarget(i.chessboard,s,i.camp))return void(t.checkSelSource(i.chessboard,s,i.camp)?(i.cancleAllSelectChessGroup(),i.sourceLoc=s,i.selectChessArr=Util.clone(i.chessboard[s]),e.selectChessGroup(!0)):i.sourceLoc=-1);if(-1!=i.sourceLoc){var r=t.checkMoveChess(i.chessboard,i.selectChessArr,i.sourceLoc,s);if(r.success)return i.targetLoc=s,void i.serverImpl.moveChess(i)}}-1===i.sourceLoc&&i.cancleAllSelectChessGroup()}},e.prototype.setHostPlayer=function(e){e.isPlaying&&(this.isPlaying=e.isPlaying),e.camp&&(this.camp=e.camp),e.hostCamp&&(this.hostCamp=e.hostCamp),e.maxWaitTime&&(this.maxWaitTime=e.maxWaitTime),this.startTiming()},e.prototype.startTiming=function(){this.clearTimrr();var e=Math.floor(this.maxWaitTime/1e3);2>e||(this.currentSecond=e,this.timer=new egret.Timer(1e3,e+1),this.timer.addEventListener(egret.TimerEvent.TIMER,this.timing,this),this.timer.addEventListener(egret.TimerEvent.TIMER_COMPLETE,this.playerOptionOutTime,this),this.timer.start())},e.prototype.clearTimrr=function(){this.timer&&(this.timer.stop(),this.timer.removeEventListener(egret.TimerEvent.TIMER,this.timing,this),this.timer.removeEventListener(egret.TimerEvent.TIMER_COMPLETE,this.playerOptionOutTime,this),this.timer=null)},e.prototype.timing=function(){this.hostCamp==con.camp.blue&&this.sceneBattle.messageLable.$setTextColor(255),this.hostCamp==con.camp.red&&this.sceneBattle.messageLable.$setTextColor(16711680),this.hostCamp==con.camp.neutral&&this.sceneBattle.messageLable.$setTextColor(0),this.sceneBattle.messageLable.text=this.currentSecond+"",this.currentSecond--},e.prototype.playerOptionOutTime=function(){},e}();__reflect(Player.prototype,"Player");var AboutView=function(e){function i(){var i=e.call(this)||this;i.skinName="src/game/scene/menu/AboutViewSkin.exml";var s=ChessboardPara.Shared();i.width=s.chessboardW,i.height=s.chessboardH,i.rect_mask.addEventListener(egret.TouchEvent.TOUCH_TAP,i.removeThis,i);var t=32,r=28,h=16748544,o=16777215;return i.label_content.textFlow=[{text:"简介:\n",style:{size:t,textColor:h,bold:!0}},{text:"      孝仁泉军旗是我们几个小伙伴改良的一种玩法,此种玩法以杀光对方所有棋子为目标,展开的攻防作战。与主流的玩法存在一些不同点，如:除工兵、炸弹外的普通棋子只能一步一步的走，特定棋子可以组合为棋子组，军旗被扛不再是胜负的条件，而是变成杀人的工具。\n      虽然此软件界面简陋、模式单一,但是我因此学习了大量软件开发知识，耗费了不少时间。当前软件没什么模式也没什么可玩性，随着我编程水平的日益提高，“人机对战”和“联网作战”的模式也已经提上了日程，请大家多多支持。在此希望让孝仁泉这个村庄能够永存，最后希望此玩法能够得到更多的人认可！\n",style:{size:r,textColor:o}},{text:"\n当前版本:",style:{size:t,textColor:h,bold:!0}},{text:"  0.0.2\n",style:{size:r,textColor:o}}],i}return __extends(i,e),i.prototype.removeThis=function(){this.parent.removeChild(this)},i}(eui.Component);__reflect(AboutView.prototype,"AboutView");var CheckRule=function(){function e(){}return e.Shared=function(){return null==e.shared&&(e.shared=new e),e.shared},e.prototype.checkOverChess=function(e,i){var s=!1,t=con.getChessObjByChess(e[i]);return t.type==con.chessType.cover&&(s=!0),s},e.prototype.checkVictory=function(e,i,s){var t=con.victoryStatus.playing;if(i=con.getOppositeCamp(i),s>=1e3)return t=con.victoryStatus.draw;var r=0,h=0,o=0,n=null,a=null,p=[],u=-1,l=!0,c=con.positionGraph;for(r=0;60>r;r++){if(p=c[r],n=con.getChessObjByChess(e[r]),n.type===con.chessType.cover)return t=con.victoryStatus.playing;if(i===n.camp&&n.moveType!==con.moveType.unable)for(o=p.length,h=0;o>h;h++)if(u=p[h],a=con.getChessObjByChess(e[u]),l=a.type===con.chessType.kong?!0:con.isKillChessObj(n,a))return t=con.victoryStatus.playing}return t=con.victoryStatus.win},e.prototype.checkSelSource=function(e,i,s){var t=!1,r=con.getChessObjByChess(e[i]),h=r.camp,o=r.moveType;return t=h==s&&o!=con.moveType.unable?!0:!1},e.prototype.checkSelTarget=function(e,i,s){var t=!1,r=con.getChessObjByChess(e[i]),h=r.camp,o=r.moveType,n=r.type;return t=n===con.chessType.kong?!0:h===s&&o!=con.moveType.unable?!1:!0},e.prototype.checkMoveChess=function(e,i,s,t){function r(){if(L==y&&(l=[0]),L>y+20)for(m=0;m<u.length;m++)for(P=0;P<l.length;P++)l[P]===u[m]&&l.splice(P,1);return 2===l.length&&(l.indexOf(60)>-1&&l.indexOf(61)>-1||l.indexOf(54)>-1&&l.indexOf(55)>-1)?!1:!0}function h(){if(8===con.positionGraph[t].length){if(0!==e[t][0])return!1;if(y===con.chessType.rZha||y===con.chessType.bZha)return!1}return!0}function o(){var i=!1,r=PathSearch.Shared(),h=con.isNextPosition(s,t);switch(G.moveType){case con.moveType.unable:S="选择的棋子不能移动",i=!1;break;case con.moveType.oneStep:h?(i=!0,C.push(s),C.push(t)):i=!1;break;case con.moveType.line:if(h)i=!0,C.push(s),C.push(t);else{var o=r.linePath(e,s,t);o.isMove?(i=!0,C=o.path):i=!1}break;case con.moveType.curve:if(h)i=!0,C.push(s),C.push(t);else{var n=r.curvePath(e,s,t);n.isMove?(i=!0,C=n.path):i=!1}break;default:i=!1}return i}function n(){var e=G.kills;for(f=e.length,m=0;f>m;m++){if(e[m][0]===d){v=e[m][1];break}if(m===f-1)return!1}if(v>y+20)for(m=0;m<c.length;m++)u.splice(0,0,c[m]);if(y-20>v&&v>=20){var i=y-v;for(m=0;m<u.length;m++)if(Math.abs(u[m]-i)<=2){u.splice(m,1);break}}0==v&&(u=[0]);var s=con.getChessObjByChess(l);if(!s)return!1;var t=con.getChessObjByChess(u);return t?!0:!1}var a=Util,p={selectArr:null,success:null,path:null,souLoc:null,sourceArr:null,tarLoc:null,targetArr:null},u=a.clone(i)||[];p.selectArr=a.clone(u);var l=a.clone(e[s]),c=a.clone(e[t]),b=a.sumArray(u),g=a.sumArray(l),_=a.sumArray(c),y=con.chessCtMap[b],L=con.chessCtMap[g],d=con.chessCtMap[_],G=con.ctObjMap[y],v=(con.ctObjMap[L],con.ctObjMap[d],0),C=[],f=0,m=0,P=0,S="";return d===con.chessType.kong?p.success=r()&&o()&&h():p.success=r()&&o()&&h()&&n(),p.path=C,p.souLoc=s,p.sourceArr=l,p.tarLoc=t,p.targetArr=u,p},e}();__reflect(CheckRule.prototype,"CheckRule");var RuleView=function(e){function i(){var i=e.call(this)||this;i.skinName="src/game/scene/menu/RuleViewSkin.exml";var s=ChessboardPara.Shared();i.width=s.chessboardW,i.height=s.chessboardH,i.rect_mask.addEventListener(egret.TouchEvent.TOUCH_TAP,i.removeThisView,i);var t=32,r=30,h=28;return i.label_rule.textFlow=[{text:"孝仁泉军旗规则:\n",style:{size:t,textColor:16748544,bold:!0}},{text:"    此玩法为翻棋玩法，地雷被工兵挖上不会消失，反而被工兵所用；军旗被工兵排上游戏不会结束，军旗成为了工兵的杀人工具；炸弹会被排长俘获,变成自己阵营的棋子；该玩法意在双方进行攻防厮杀,而非进行夺棋厮杀。\n",style:{size:28,textColor:16777215}},{text:"    军棋棋盘：\n",style:{size:r,textColor:16748544,bold:!0}},{text:"       军棋棋盘包含铁路线、公路线，包括5个行营、23个兵站、2个大本营。在该玩法中,大本营等同于兵站。兵站是棋子的摆放位置；铁路线是部分棋子的快行线，只要在直线上或弯路棋子走步数不限；公路线是慢行线，每次只能移动一步；行营是棋子的安全岛，在行营中的棋子可以免受其他任何棋子的攻击。\n",style:{size:h,textColor:16777215}},{text:"    棋子类型：\n",style:{size:r,textColor:16748544,bold:!0}},{text:"       普通棋子类型有: 司令,军长,师长,旅长,团长,营长,连长,排长,工兵,炸弹,地雷,军旗,组合棋子类型有: 工兵+地雷,工兵+军旗,工兵+地雷+军旗,排长+炸弹，其中（地雷，军旗，炸弹为对方的）。\n",style:{size:h,textColor:16777215}},{text:"    杀棋规则：\n",style:{size:r,textColor:16748544,bold:!0}},{text:"      普通棋子大小：\n",style:{size:h,textColor:16748544,bold:!0}},{text:"       【司令】>【军长】>【师长】>【旅长】>【团长】>【营长】>【连长】>【排长】>【工兵】；【地雷】和【军旗】不能移动，【炸弹】可以移动,但是不能进入行营，【炸弹】可以炸掉除【排长】之外的棋子；相同的棋子相遇后同时消失。【工兵】遇到对方的【地雷】或【军旗】，将变成组合棋子【工兵+地雷】或【工兵+军旗】或【工兵+地雷+军旗】。【排长】遇到对方的【炸弹】变成组合棋子【排长+炸弹】。\n",style:{size:h,textColor:16777215}},{text:"      组合棋子大小：\n",style:{size:h,textColor:16748544,bold:!0}},{text:"       【工兵+地雷】可以炸掉比【工兵】大的单个棋子同时扔掉一个【地雷】,【工兵+军旗】可以杀掉比【工兵】大的单个棋子,【排长+炸弹】的威力与【炸弹】相同。【工兵+地雷】、【炸弹】、【排长+炸弹】可以炸掉己方的【地雷】、【军旗】，让对方的【工兵】无【地雷】可挖，无【军旗】可扛。由此【工兵】，【地雷】，【军旗】，【炸弹】，【排长】成为了双方关注的焦点。\n",style:{size:h,textColor:16777215}},{text:"    行棋规则：\n",style:{size:r,textColor:16748544,bold:!0}},{text:"     工兵及工兵的组合棋子可以在铁路线上在没有阻挡的情况下任意行棋；炸弹在铁路线上走直线,其余棋子在铁路线上每次只能移动一步(和公路线上一样)；所有棋子在公路线上只能移动一步。\n",style:{size:h,textColor:16777215}},{text:"    阵营选择：\n",style:{size:r,textColor:16748544,bold:!0}},{text:"     玩家依次进行翻棋，首先翻开的棋子的颜色为该玩家的阵营，然后双方进行厮杀。\n",style:{size:h,textColor:16777215}},{text:"    胜负规则：\n",style:{size:r,textColor:16748544,bold:!0}},{text:"      杀光对方的棋子或对方无棋可走方可胜利。\n",style:{size:h,textColor:16777215}},{text:"    玩法说明：\n",style:{size:r,textColor:16748544,bold:!0}},{text:"     游戏开始时，系统随机指定一人为先手，玩家第一次翻开棋子时，即确定了自己的阵营，轮到自己行琪时，点击自己的棋子即可选择，然后点击目的位置即可完成行琪。左右滑动组合棋子可查看该组合棋子的棋子组成，在移动时也可选择部分棋子进行移动。一方的下棋时间最长为30s，超过则由另一方进行行琪。\n",style:{size:h,textColor:16777215}}],i
}return __extends(i,e),i.prototype.removeThisView=function(){this.parent.removeChild(this)},i}(eui.Component);__reflect(RuleView.prototype,"RuleView");var StartSettingView=function(e){function i(i){var s=e.call(this)||this;s.menu_parent=i,s.skinName="src/game/scene/menu/StartSettingViewSkin.exml";var t=ChessboardPara.Shared();return s.width=t.chessboardW,s.height=t.chessboardH,s.rect_mask.addEventListener(egret.TouchEvent.TOUCH_TAP,s.removeThis,s),s.btn_ok.addEventListener(egret.TouchEvent.TOUCH_TAP,s.start,s),s.btn_cancel.addEventListener(egret.TouchEvent.TOUCH_TAP,s.cancel,s),s}return __extends(i,e),i.prototype.removeThis=function(){this.parent.removeChild(this)},i.prototype.start=function(){this.removeThis(),this.menu_parent.game_reStart()},i.prototype.cancel=function(){this.removeThis()},i}(eui.Component);__reflect(StartSettingView.prototype,"StartSettingView");var StatisticsView=function(e){function i(){var i=e.call(this)||this;i.skinName="src/game/scene/menu/StatisticsViewSkin.exml";var s=ChessboardPara.Shared();return i.width=s.chessboardW,i.height=s.chessboardH,i.rect_mask.addEventListener(egret.TouchEvent.TOUCH_TAP,i.removeThisView,i),i.statisticsKilledChessNum(),i}return __extends(i,e),i.prototype.statisticsKilledChessNum=function(){var e=[con.chessType.rLeader,con.chessType.rJun,con.chessType.rShi,con.chessType.rLv,con.chessType.rTuan,con.chessType.rYing,con.chessType.rLian,con.chessType.rPai,con.chessType.rGong,con.chessType.rZha,con.chessType.rLei,con.chessType.rQi],i=[],s=[con.chessType.bLeader,con.chessType.bJun,con.chessType.bShi,con.chessType.bLv,con.chessType.bTuan,con.chessType.bYing,con.chessType.bLian,con.chessType.bPai,con.chessType.bGong,con.chessType.bZha,con.chessType.bLei,con.chessType.bQi],t=[],r=[],h=[],o=[],n=[],a=ServerImpl.Shared().getCurrentServer();if(a){for(var p=a.createChessArr,u=a.chessboard,l=20;70>l;l++)-1===p.indexOf(l)&&r.push(l);u.forEach(function(e,i){e.forEach(function(e,i){0!==e&&e!==con.chessType.cover&&h.push(e)})}),r.forEach(function(e,i){-1===h.indexOf(e)&&o.push(e)}),o.forEach(function(e,i){var s=con.chessCtMap[e];n.push(s)}),e.forEach(function(e,s){var t=0;n.forEach(function(i,s){e===i&&t++}),i.push(t)}),s.forEach(function(e,i){var s=0;n.forEach(function(i,t){e===i&&s++}),t.push(s)})}var c=Util.sumArray(i),b=Util.sumArray(t);this.red_title_label.textFlow=[{text:"   红方阵亡的棋子:",style:{size:30,textColor:16777215,bold:!0}},{text:" "+c,style:{size:30,textColor:16748544,bold:!0}}],this.blue_title_label.textFlow=[{text:"   蓝方阵亡的棋子:",style:{size:30,textColor:16777215,bold:!0}},{text:" "+b,style:{size:30,textColor:6075903,bold:!0}}];var g=this,_=0;e.forEach(function(e,s){var t=i[s];if(t>0){var r=con.getChessObjByChess(e),h=r.description,o="    "+h+" * "+t;_%4===3&&(o+="\n"),_++,g.red_content_label.textFlow.push({text:o,style:{size:28,textColor:16748544}})}}),_=0,s.forEach(function(e,i){var s=t[i];if(s>0){var r=con.getChessObjByChess(e),h=r.description,o="    "+h+" * "+s;_%4===3&&(o+="\n"),_++,g.blue_content_label.textFlow.push({text:o,style:{size:28,textColor:6075903}})}})},i.prototype.removeThisView=function(){this.parent.removeChild(this)},i}(eui.Component);__reflect(StatisticsView.prototype,"StatisticsView");var SceneBattle=function(e){function i(){var i=e.call(this)||this,s=ChessboardPara.Shared(),t=new eui.Group;t.width=2*s.chessW,t.height=100,t.x=s.getPixelByLocX(3),t.y=s.chessboardH/2,t.anchorOffsetX=t.width/2,t.anchorOffsetY=t.height/2;var r=new eui.Label;return r.text="",r.size=30,r.bold=!0,r.width=t.width,r.height=t.height,r.textAlign=egret.HorizontalAlign.CENTER,r.verticalAlign=egret.VerticalAlign.MIDDLE,i.group_messagelabel=t,i.messageLable=r,i.group_messagelabel.addChild(i.messageLable),i.group_messagelabel.cacheAsBitmap=!0,i}return __extends(i,e),i.prototype.setMessage=function(e,i){this.messageLable.textColor=i,this.messageLable.text=e},i.prototype.onclick_menu=function(){this.menu||(this.menu=new Menu(this)),this.parent.addChild(this.menu)},i.prototype.startGame=function(){this.serverImpl||(this.serverImpl=new ServerImpl),this.serverImpl.localServer.enable=!0,this.player1||(this.player1=new Player(this,this.serverImpl)),this.serverImpl.localServer.init(this.player1,this.player1)},i.prototype.setVictory=function(e,i){var s=new Victory;s.title="游戏结束",s.setVictory(e,i),this.addChild(s)},i}(eui.Component);__reflect(SceneBattle.prototype,"SceneBattle");var SceneBattle1=function(e){function i(){var i=e.call(this)||this,s=ChessboardBackground.Shared();i.skinName="src/game/scene/SceneBattleSkin.exml";var t=ChessboardPara.Shared();return i.width=t.chessboardW,i.height=t.chessboardH,i.btn_back.addEventListener(egret.TouchEvent.TOUCH_TAP,i.onclick_back,i),i.btn_menu.addEventListener(egret.TouchEvent.TOUCH_TAP,i.onclick_menu,i),i.group_background.addChild(s),i.addChild(i.group_messagelabel),i}return __extends(i,e),i.Shared=function(){return null==i.shared&&(i.shared=new i),i.shared},i.prototype.onclick_back=function(){this.parent.addChild(SceneIndex.Shared()),this.parent.removeChild(this)},i}(SceneBattle);__reflect(SceneBattle1.prototype,"SceneBattle1");var SceneIndex=function(e){function i(){var i=e.call(this)||this;i.skinName="src/game/scene/SceneIndexSkin.exml",i.btn_start.addEventListener(egret.TouchEvent.TOUCH_TAP,i.onclick_start,i),i.btn_about.addEventListener(egret.TouchEvent.TOUCH_TAP,i.onclick_about,i);var s=ChessboardPara.Shared();return i.width=s.chessboardW,i.height=s.chessboardH,i.init(),i}return __extends(i,e),i.Shared=function(){return null==i.shared&&(i.shared=new i),i.shared},i.prototype.init=function(){ChessKillRule.init(),con.initCtObjMap()},i.prototype.onclick_start=function(){this.parent.addChild(SceneBattle1.Shared()),this.parent.removeChild(this)},i.prototype.onclick_about=function(){var e=new AboutView;this.addChild(e)},i}(eui.Component);__reflect(SceneIndex.prototype,"SceneIndex");var Victory=function(e){function i(){var i=e.call(this)||this;return i.skinName="src/game/scene/VictorySkin.exml",i.horizontalCenter=0,i.verticalCenter=0,i.title="游戏结束",i}return __extends(i,e),i.prototype.setVictory=function(e,i){var s="";e===con.camp.red&&(this.messageContent.textColor=16711680),e===con.camp.blue&&(this.messageContent.textColor=255),i===con.victoryStatus.draw&&(s="战平"),i===con.victoryStatus.win&&(s="您胜利了"),i===con.victoryStatus.lose&&(s="您失败了"),this.messageContent.text=s},i}(eui.Panel);__reflect(Victory.prototype,"Victory");var ServerImpl=function(){function e(){this.localServer=new LocalServer,e.shared=this}return e.Shared=function(){return null==e.shared&&(e.shared=new e),e.shared},e.prototype.init=function(e,i){this.localServer.enable&&this.localServer.init(e,i)},e.prototype.overChess=function(e,i){this.localServer.enable&&this.localServer.createOverChess(e,i)},e.prototype.moveChess=function(e){({sourceLoc:e.sourceLoc,targetLoc:e.targetLoc,selectChessArr:e.selectChessArr});this.localServer.enable&&this.localServer.moveChess(e)},e.prototype.getCurrentServer=function(){return this.localServer.enable?this.localServer:null},e}();__reflect(ServerImpl.prototype,"ServerImpl");var LocalServer=function(){function e(){this.enable=!1,this.createChessArr=[],this.chessboard=[],this.player1=null,this.player2=null,this.stepNum=0,this.no=0,this.roomName="",this.checkRule=CheckRule.Shared(),this.maxWaitTime=3e4,this.hostCamp=con.camp.neutral}return e.prototype.init=function(e,i){this.enable=!0,this.player1=e,this.player2=i,this.victoryStatus=con.victoryStatus.playing,this.hostCamp=con.camp.neutral,this.stepNum=0,this.initChessboard(),e===i?e.init({isPlaying:!0,camp:con.camp.neutral,hostCamp:con.camp.neutral,playerStatus:con.playerStatus.start,loginStatus:con.loginStatus.login,victoryStatus:con.victoryStatus.playing,playerRole:con.playerRole.player1,chessboard:this.chessboard}):(this.setPlayerFirstHand(e),e.init({isPlaying:e.isPlaying,camp:con.camp.neutral,hostCamp:con.camp.neutral,playerStatus:con.playerStatus.start,loginStatus:con.loginStatus.login,victoryStatus:con.victoryStatus.playing,playerRole:con.playerRole.player1,chessboard:this.chessboard}),i.init({isPlaying:i.isPlaying,camp:con.camp.neutral,hostCamp:con.camp.neutral,playerStatus:con.playerStatus.start,loginStatus:con.loginStatus.login,victoryStatus:con.victoryStatus.playing,playerRole:con.playerRole.player1,chessboard:this.chessboard})),this.setPlayerOutTime()},e.prototype.getAnotherPlayer=function(e){return e===this.player1?this.player2:this.player1},e.prototype.initChessboard=function(){this.createChessArr=[];var e=0,i=0,s=con.chessType.cover,t=con.positionGraph,r=[];for(e=20;70>e;e++)r[e-20]=e;for(e=0;50>e;e++){var i=Math.floor(Math.random()*r.length);this.createChessArr[e]=r[i],r.splice(i,1)}for(e=0;60>e;e++)t[e].length<8?this.chessboard[e]=[s]:this.chessboard[e]=[0]},e.prototype.initTestChessboard=function(){this.createChessArr=[];var e=0;con.chessType.cover,con.positionGraph;for(e=20;70>e;e++)this.createChessArr[e-20]=e;for(e=0;60>e;e++)this.chessboard[e]=[0];this.chessboard[0]=[20],this.chessboard[1]=[21],this.chessboard[2]=[22],this.chessboard[3]=[38],this.chessboard[4]=[39],this.chessboard[5]=[37],this.chessboard[6]=[54],this.chessboard[7]=[55],this.chessboard[8]=[60],this.chessboard[9]=[61],this.chessboard[10]=[51],this.chessboard[11]=[52],this.chessboard[12]=[53],this.chessboard[13]=[62],this.chessboard[14]=[63],this.chessboard[15]=[64],this.chessboard[16]=[500]},e.prototype.createOverChess=function(e,i){var s=this.checkRule,t={success:null,chess:null,loc:null,camp:null,hostCamp:null,isPlaying:null};if(t.success=!1,e.isPlaying&&!s.checkOverChess(this.chessboard,i))return t;this.stepNum++;var r=Math.floor(Math.random()*this.createChessArr.length);this.chessboard[i]=[this.createChessArr[r]],this.createChessArr.splice(r,1),t.chess=this.chessboard[i][0],t.loc=i,t.success=!0;var h=Util.clone(t);if(1===this.stepNum){var o=con.getChessObjByChess(t.chess).camp;this.hostCamp=con.getOppositeCamp(o),this.player1===this.player2?(t.camp=this.hostCamp,t.hostCamp=this.hostCamp,t.isPlaying=!0,e.overChess(t)):(t.camp=o,t.hostCamp=this.hostCamp,t.isPlaying=!1,e.overChess(t),h.camp=con.getOppositeCamp(o),h.hostCamp=this.hostCamp,h.isPlaying=!0,this.getAnotherPlayer(e).overChess(h))}else this.hostCamp=con.getOppositeCamp(this.hostCamp),this.player1===this.player2?(t.camp=this.hostCamp,t.hostCamp=this.hostCamp,t.isPlaying=!0,e.overChess(t)):(t.isPlaying=!1,t.hostCamp=this.hostCamp,e.overChess(t),h.isPlaying=!0,t.hostCamp=this.hostCamp,this.getAnotherPlayer(e).overChess(h));return this.setPlayerOutTime(),h},e.prototype.moveChess=function(e){var i=this.checkRule,s={success:null,selectArr:null,souLoc:null,tarLoc:null,sourceArr:null,targetArr:null,path:null,victoryStatus:null,isPlaying:null,camp:null,hostCamp:null};if(s.success=!1,e.isPlaying){if(!i.checkSelSource(this.chessboard,e.sourceLoc,e.camp))return s;if(!i.checkSelTarget(this.chessboard,e.targetLoc,e.camp))return s;var t=i.checkMoveChess(this.chessboard,e.selectChessArr,e.sourceLoc,e.targetLoc);s.success=t.success,s.path=t.path,s.tarLoc=t.tarLoc,s.targetArr=t.targetArr,s.souLoc=t.souLoc,s.sourceArr=t.sourceArr,s.selectArr=t.selectArr}if(s.success){var r=Util.clone(s);this.chessboard[s.souLoc]=Util.clone(s.sourceArr),this.chessboard[s.tarLoc]=Util.clone(s.targetArr),this.stepNum++;var h=i.checkVictory(this.chessboard,e.camp,this.stepNum);(h===con.victoryStatus.playing||h===con.victoryStatus.draw)&&(s.victoryStatus=h,r.victoryStatus=h),h===con.victoryStatus.win&&(s.victoryStatus=con.victoryStatus.win,r.victoryStatus=con.victoryStatus.lose),h===con.victoryStatus.playing&&(this.hostCamp=con.getOppositeCamp(this.hostCamp),this.setPlayerOutTime()),this.victoryStatus=h,this.player1===this.player2?(s.isPlaying=!0,s.camp=this.hostCamp,s.hostCamp=this.hostCamp,e.moveChess(s)):(s.isPlaying=!1,s.hostCamp=this.hostCamp,e.moveChess(s),r.isPlaying=!0,s.hostCamp=this.hostCamp,this.getAnotherPlayer(e).overChess(r))}return s},e.prototype.setPlayerFirstHand=function(e){var i=!1;i=Math.random()>.5?!0:!1,e.isPlaying=i;var s=this.getAnotherPlayer(e);s.isPlaying=!e.isPlaying},e.prototype.setPlayerOutTime=function(){this.timeoutId&&clearTimeout(this.timeoutId);var e=this;this.victoryStatus===con.victoryStatus.playing&&(this.timeoutId=setTimeout(function(){e.playerOutTime()},this.maxWaitTime+1e3))},e.prototype.playerOutTime=function(){this.hostCamp=con.getOppositeCamp(this.hostCamp),this.player1===this.player2?this.player1.setHostPlayer({maxWaitTime:this.maxWaitTime,camp:this.hostCamp,hostCamp:this.hostCamp,isPlaying:!0}):this.player1.camp===this.hostCamp?(this.player1.setHostPlayer({maxWaitTime:this.maxWaitTime,hostCamp:this.hostCamp,isPlaying:!1}),this.player2.setHostPlayer({maxWaitTime:this.maxWaitTime,hostCamp:this.hostCamp,isPlaying:!0})):(this.player2.setHostPlayer({maxWaitTime:this.maxWaitTime,hostCamp:this.hostCamp,isPlaying:!1}),this.player1.setHostPlayer({maxWaitTime:this.maxWaitTime,hostCamp:this.hostCamp,isPlaying:!0})),this.setPlayerOutTime()},e}();__reflect(LocalServer.prototype,"LocalServer");var Util=function(){function e(){}return e.isType=function(e){return Object.prototype.toString.call(e).slice(8,-1)},e.isObject=function(i){return"Object"===e.isType(i)},e.isArray=function(i){return"Array"===e.isType(i)},e.isFunction=function(i){return"Function"===e.isType(i)},e.extend=function(i,s){if(e.isObject(i)||e.isFunction(i)&&e.isObject(s))for(var t in s)s.hasOwnProperty(t)&&(e.isObject(s[t])?i[t]=e.extend({},s[t]):e.isArray(s[t])?i[t]=e.extend([],s[t]):i[t]=s[t]);else if(e.isArray(i)&&e.isArray(s))for(var r=0,h=s.length;h>r;r++)i.push(s[r]);return i},e.clone=function(i){return e.isObject(i)?e.extend({},i):e.isArray(i)?e.extend([],i):i},e.sumArray=function(i){var s=0;if(e.isArray(i))for(var t=0;t<i.length;t++)s+=i[t];return s},e.toggleValOfArray=function(e,i){var s=e.indexOf(i);-1==s?e.push(i):e.splice(s,1)},e.delArrSameVal=function(i,s){var t=0,r=0;for(e.isArray(s)||(s=[s]),t=0;t<s.length;t++)for(r=0;r<i.length;r++)i[r]===s[t]&&i.splice(r,1)},e}();__reflect(Util.prototype,"Util");var LoadingUI=function(e){function i(){var i=e.call(this)||this;return i.createView(),i}return __extends(i,e),i.prototype.createView=function(){this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=300,this.textField.width=480,this.textField.height=100,this.textField.textAlign="center"},i.prototype.setProgress=function(e,i){this.textField.text="Loading..."+e+"/"+i},i}(egret.Sprite);__reflect(LoadingUI.prototype,"LoadingUI");var Main=function(e){function i(){var i=e.apply(this,arguments)||this;return i.isThemeLoadEnd=!1,i.isResourceLoadEnd=!1,i}return __extends(i,e),i.prototype.createChildren=function(){e.prototype.createChildren.call(this);var i=new AssetAdapter;egret.registerImplementation("eui.IAssetAdapter",i),egret.registerImplementation("eui.IThemeAdapter",new ThemeAdapter),this.loadingView=new LoadingUI,this.stage.addChild(this.loadingView),RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.loadConfig("resource/default.res.json","resource/")},i.prototype.onConfigComplete=function(e){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this);var i=new eui.Theme("resource/default.thm.json",this.stage);i.addEventListener(eui.UIEvent.COMPLETE,this.onThemeLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),RES.loadGroup("preload")},i.prototype.onThemeLoadComplete=function(){this.isThemeLoadEnd=!0,this.createScene()},i.prototype.onResourceLoadComplete=function(e){"preload"==e.groupName&&(this.stage.removeChild(this.loadingView),RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),this.isResourceLoadEnd=!0,this.createScene())},i.prototype.createScene=function(){this.isThemeLoadEnd&&this.isResourceLoadEnd&&this.startCreateScene()},i.prototype.onItemLoadError=function(e){console.warn("Url:"+e.resItem.url+" has failed to load")},i.prototype.onResourceLoadError=function(e){console.warn("Group:"+e.groupName+" has failed to load"),this.onResourceLoadComplete(e)},i.prototype.onResourceProgress=function(e){"preload"==e.groupName&&this.loadingView.setProgress(e.itemsLoaded,e.itemsTotal)},i.prototype.startCreateScene=function(){this.initSceneSize();var e=SceneIndex.Shared();this.addChild(e)},i.prototype.initSceneSize=function(){function e(){i&&(i=!1,setTimeout(function(){var e=document.body.scrollWidth,t=document.body.scrollHeight;if(t>e){var r=720/(e/t),h=ChessboardPara.Shared();h.init(720,r),s.stage.setContentSize(720,r)}else{var h=ChessboardPara.Shared();h.init(720,1200),s.stage.setContentSize(720,1200)}i=!0},1e3))}var i=!0,s=this;e(),window.addEventListener("resize",function(){e()})},i}(eui.UILayer);__reflect(Main.prototype,"Main");var ThemeAdapter=function(){function e(){}return e.prototype.getTheme=function(e,i,s,t){function r(e){i.call(t,e)}function h(i){i.resItem.url==e&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,h,null),s.call(t))}RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,h,null),RES.getResByUrl(e,r,this,RES.ResourceItem.TYPE_TEXT)},e}();__reflect(ThemeAdapter.prototype,"ThemeAdapter",["eui.IThemeAdapter"]);